(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=a(42),s=a(43),i=a(53),m=a(52),u=a(54),d=a(20),b=a(5),p=a(2),h=a(44),E=a.n(h),f=function(e){var t={position:"relative",minHeight:"95vh",backgroundImage:"url(".concat(E.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"pt-2 pb-3",style:{background:"#111111"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-6 col-xl-2"},r.a.createElement("h1",{className:"mb-0"},r.a.createElement(b.b,{to:"/TestHostReact",className:"text-white h4 mb-0"},"Labour Management"))),r.a.createElement("div",{className:"col-6 col-xl-10 text-right pt-1"},r.a.createElement(b.b,{to:"/dashboard",className:"text-white mr-3"},"Dashboard"),r.a.createElement(b.b,{to:"/register",className:"text-white mr-3"},"Sign Up"),r.a.createElement(b.b,{to:"/login",style:{textDecoration:"none"}},r.a.createElement("span",{className:"rounded bg-primary py-2 px-3 text-white"},"Login")))))),r.a.createElement("div",{style:t},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"hero-text-container row d-flex flex-column justify-content-center",style:{height:"95vh"}},r.a.createElement("h1",{className:"display-4 hero-text text-white"},"Find the ",r.a.createElement("strong",null,"Labour")," you ",r.a.createElement("br",null),"need to succeed"),r.a.createElement(b.b,{to:"/register",className:"btn btn-primary p-3 text-white mt-3",style:{fontSize:"0.9rem",width:"150px"}},"Start now")))))},v=a(3),g=a.n(v),A=a(4),N=a(10),j=a(7),y=a(1),x=a(11),O=function(e){var t=e.errors;return r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("ul",{className:"pl-3 mb-0"},t.map((function(e,t){return r.a.createElement("li",{key:t},e)}))))},w=function(e){var t=e.history,a=Object(n.useState)({email:"",password:""}),c=Object(y.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)([]),i=Object(y.a)(s,2),m=i[0],u=i[1],h=l.email,E=l.password,f=function(e){e.preventDefault(),o(Object(j.a)({},l,Object(N.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(A.a)(g.a.mark((function e(){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:h,password:E},e.prev=1,e.next=4,fetch("http://localhost:5001/api/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 4:if(200===(n=e.sent).status){e.next=8;break}throw u(["Login failed. Please try again later."]),n;case 8:return e.next=10,n.json();case 10:(r=e.sent).token&&""!==r.token?p.setSessionData(r,t):u(["Invalid login information entered."]),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),u(["Login failed. Please try again later."]),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return p.authenticateUser()?r.a.createElement(d.a,{to:{pathname:"/dashboard"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"splash-container-wrapper"},r.a.createElement("div",{className:"splash-container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"mb-1"},"Login"),r.a.createElement("p",null,"Don't have an account yet? Create one ",r.a.createElement(b.b,{to:"/register",className:"text-primary"},"here."))),r.a.createElement("div",{className:"card-body"},m.length>0&&r.a.createElement(O,{errors:m}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=[];x.email(h)||t.push("Invalid email entered."),t.length?u(t):v()}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{autoFocus:!0,required:!0,type:"email",name:"email",className:"form-control form-control-lg",onChange:function(e){return f(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{required:!0,type:"password",name:"password",className:"form-control form-control-lg",onChange:function(e){return f(e)}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg w-100"},"Login")))))))},k=function(e){return p.authenticateUser()?r.a.createElement(d.a,{to:{pathname:"/dashboard"}}):r.a.createElement("div",{className:"splash-container-wrapper"},r.a.createElement("form",{className:"splash-container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"mb-1"},"Get Started"),r.a.createElement("p",null,"Please select your account type.")),r.a.createElement("div",{className:"card-body"},r.a.createElement(b.b,{to:"/register/client",className:"d-block btn btn-outline-primary btn-lg text-left mb-3"},r.a.createElement("span",{className:"h5"},r.a.createElement("i",{className:"material-icons mr-2"},"business"),"Company Account"),r.a.createElement("br",null),r.a.createElement("small",null,"Post jobs and hire labourers")),r.a.createElement(b.b,{to:"/register/labourer",className:"d-block btn btn-outline-primary btn-lg text-left"},r.a.createElement("span",{className:"h5"},r.a.createElement("i",{className:"material-icons mr-2"},"emoji_people"),"Labourer Account"),r.a.createElement("br",null),r.a.createElement("small",null,"Find work fast based on your skills"))),r.a.createElement("div",{className:"card-footer bg-white"},r.a.createElement("p",null,"Already have an account? ",r.a.createElement(b.b,{to:"/login",className:"text-primary"},"Login here."))))))},S=function(){return r.a.createElement("div",{className:"bg-light text-center",style:{minHeight:"100vh"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"offset-xl-2 col-xl-8 offset-lg-2 col-lg-8 col-md-12 col-sm-12 col-12"},r.a.createElement("div",{className:"error-section"},r.a.createElement("div",{className:"error-section-content"},r.a.createElement("h1",{className:"display-3"},"Page Not Found"),r.a.createElement("p",null,"Sorry, there's nothing to see here!"),r.a.createElement("a",{href:"/dashboard",className:"btn btn-secondary btn-lg"},"Back to dashboard")))))))},C=function(e){var t=Object(n.useState)(),a=Object(y.a)(t,2),c=a[0],l=a[1],o=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api/Incidents/GetIncidentsNotNotified",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())}});case 3:if(200===(t=e.sent).status){e.next=6;break}throw t;case 6:return e.next=8,t.json();case 8:(a=e.sent)&&l(a.reverse()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),r.a.createElement(r.a.Fragment,null,c?r.a.createElement("li",{className:"nav-item dropdown notification"},r.a.createElement("a",{className:"nav-link nav-icons",href:"/dashboard",id:"navbarDropdownMenuLink1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{marginTop:"5px"}},0==c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"notifications"),r.a.createElement("span",{className:"ml-2 d-inline-block d-lg-none"},"New Notifications")):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"notifications"),r.a.createElement("span",{className:"indicator d-none d-lg-block"}),r.a.createElement("span",{className:"ml-2 d-inline-block d-lg-none"},"New Notifications"))),r.a.createElement("ul",{className:"dropdown-menu dropdown-menu-right notification-dropdown"},0==c.length?r.a.createElement("li",null,r.a.createElement("div",{className:"notification-title"},"No New Notifications")):r.a.createElement("li",null,r.a.createElement("div",{className:"notification-title"},"Notifications"),r.a.createElement("div",{className:"notification-list"},r.a.createElement("div",{className:"list-group"},c.map((function(e,t){return r.a.createElement(b.b,{onClick:function(){return t=e.incidentReport.incidentReportId,void fetch("http://localhost:5001/api/Incidents/ChangeAdminNotified/"+t,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}));var t},className:"list-group-item list-group-item-action",to:"/incident/".concat(e.incidentReport.incidentReportId),key:t},r.a.createElement("div",{className:"notification-info"},r.a.createElement("div",{className:"notification-list-user-block",style:{paddingLeft:"0px"}},r.a.createElement("span",{className:"notification-list-user-name",style:{marginRight:"0px"}},e.client.clientName)," created an Incident Report")))}))))))):r.a.createElement("li",null,"You do not have any new notifications."))},I=a(47),D=a.n(I),T=function(){var e=p.getName(),t=p.authenticateAdmin();return r.a.createElement("div",{className:"dashboard-header"},r.a.createElement("nav",{className:"navbar navbar-expand-lg bg-white fixed-top"},r.a.createElement("a",{href:"/dashboard",className:"navbar-brand topnav-logo",style:{color:"#3d405c",textTransform:"none"}},"Labour Management"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"}),r.a.createElement("i",{className:"material-icons text-dark mt-2 mr-1",style:{fontSize:"2rem"}},"menu")),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto navbar-right-top"},t&&r.a.createElement(C,null),r.a.createElement("li",{className:"nav-item dropdown nav-user"},r.a.createElement(b.b,{className:"d-flex nav-link nav-user-img",to:"/dashboard",id:"navbarDropdownMenuLink2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("img",{src:D.a,alt:e,className:"user-avatar-md rounded-circle"}),r.a.createElement("h5",{className:"ml-2 mt-1 mb-0 text-dark nav-user-name"},e)),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right nav-user-dropdown","aria-labelledby":"navbarDropdownMenuLink2"},r.a.createElement(b.b,{to:"/profile/edit",className:"dropdown-item mt-1"},"Settings"),r.a.createElement(b.b,{to:"/",onClick:p.logout,className:"dropdown-item"},"Logout")))))))},P=function(){var e,t=[{name:"Dashboard",path:"/dashboard",icon:"dashboard"},{name:"Profile",path:"/profile/client/".concat(p.getID()),icon:"account_box"},{name:"Add Job",path:"/addjob",icon:"edit"},{name:"Incidents",path:"/incidents",icon:"report_problem"},{name:"Invoices",path:"/invoices",icon:"receipt"}],a=[{name:"Dashboard",path:"/dashboard",icon:"dashboard"},{name:"My Profile",path:"/profile/labourer/".concat(p.getID()),icon:"account_box"},{name:"Incidents",path:"/incidents",icon:"report_problem"}],n=p.getRole();return"Client"===n?e=t:"Labourer"===n?e=a:"Admin"===n?e=[{name:"Dashboard",path:"/dashboard",icon:"dashboard"},{name:"Jobs",path:"/admin/jobs",icon:"work"},{name:"Clients",path:"/admin/clients",icon:"business"},{name:"Labourers",path:"/admin/labourers",icon:"emoji_people"},{name:"Incidents",path:"/admin/incidents",icon:"report_problem"},{name:"Invoices",path:"/admin/invoices",icon:"receipt"},{name:"Payrolls",path:"/admin/payrolls",icon:"report"},{name:"Payrates",path:"/admin/payrates",icon:"trending_up"}]:p.forceLogout(),r.a.createElement("div",{className:"nav-left-sidebar sidebar-dark"},r.a.createElement("div",{className:"menu-list"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},r.a.createElement("a",{className:"d-xl-none d-lg-none",href:"/dashboard"},"Dashboard"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},e&&r.a.createElement("ul",{className:"navbar-nav flex-column"},r.a.createElement("li",{className:"nav-divider"},"".concat(n," Menu")),e.map((function(e,t){return r.a.createElement("div",{className:"nav-item",key:t},r.a.createElement(b.b,{to:e.path,className:"nav-link"},r.a.createElement("i",{className:"material-icons pb-1"},e.icon),e.name))})))))))},F=function(){var e=(new Date).getFullYear();return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12"},"Copyright \xa9 ",e," Labour Recruitment App."),r.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12"},r.a.createElement("div",{className:"text-md-right footer-links d-none d-sm-block"},r.a.createElement("a",{href:"https://github.com/mingwang168/Labour-Recruitment",target:"blank"},"GitHub"))))))},B=function(e){var t=e.content;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),r.a.createElement("div",{className:"dashboard-main-wrapper"},r.a.createElement(T,null),r.a.createElement(P,null),r.a.createElement("div",{className:"dashboard-wrapper"},r.a.createElement("div",{className:"container-fluid dashboard-content"},t),r.a.createElement(F,null)))},L=a(6),H=a(48),J=a.n(H),R=function(e){var t=e.children;return e.loaded?t:r.a.createElement(J.a,{type:"ThreeDots",color:"#5969FF",height:75,width:75})},G=a(31),Q=a(49),q=function(e){var t=e.preGlobalFilteredRows,a=e.globalFilter,n=e.setGlobalFilter,c=t&&t.length;return r.a.createElement("input",{value:a||"",onChange:function(e){n(e.target.value||void 0)},placeholder:"Search ".concat(c," item(s)..."),className:"form-control form-control-lg mb-3"})},M=function(e){var t=e.pageIndex,a=e.pageOptions,n=e.previousPage,c=e.canPreviousPage,l=e.nextPage,o=e.canNextPage;return r.a.createElement("div",{className:"row d-flex align-items-center justify-content-between mt-3"},r.a.createElement("div",{className:"col"},r.a.createElement("strong",null,"Page ".concat(t+1," of ").concat(a.length)),r.a.createElement("button",{onClick:function(){return n()},disabled:!c,className:"ml-3 btn btn-primary pt-1 pb-0 mr-2 table-pagination-btn"},r.a.createElement("i",{className:"material-icons"},"arrow_back")),r.a.createElement("button",{onClick:function(){return l()},disabled:!o,className:"btn btn-primary pt-1 pb-0 table-pagination-btn"},r.a.createElement("i",{className:"material-icons"},"arrow_forward"))))},z=function(e){var t=e.columns,a=e.data,n=e.history,c=e.path,l=e.itemsPerPage,o=e.searchable,s=e.striped,i=Object(G.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:l||10}},G.useGlobalFilter,G.usePagination),m=i.getTableProps,u=i.getTableBodyProps,d=i.headerGroups,b=i.page,p=i.prepareRow,h=i.state,E=i.preGlobalFilteredRows,f=i.setGlobalFilter,v=i.canPreviousPage,g=i.canNextPage,A=i.pageOptions,N=i.nextPage,j=i.previousPage,y=i.state.pageIndex;return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement("div",{className:"row d-flex justify-content-end"},r.a.createElement("div",{className:"col col-lg-4 col-xl-3"},r.a.createElement(q,{preGlobalFilteredRows:E,globalFilter:h.globalFilter,setGlobalFilter:f}))),r.a.createElement("table",Object.assign({className:"table table-bordered ".concat(s&&"table-striped"," table-hover")},m()),r.a.createElement("thead",null,d.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),r.a.createElement("tbody",u(),b.map((function(e,t){return p(e),r.a.createElement("tr",Object.assign({onClick:function(){return c&&(t=e.original.id,void n.push("".concat(c,"/").concat(t)));var t}},e.getRowProps(),{style:{cursor:"pointer"}}),e.cells.map((function(e,t){return"Completion Status"===e.column.Header||"Reports"===e.column.Header?r.a.createElement("td",e.getCellProps(),r.a.createElement("span",{className:"badge badge-".concat(Object(Q.getBadgeColor)(e.value))},e.render("Cell"))):r.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),r.a.createElement(M,{pageIndex:y,pageOptions:A,previousPage:j,canPreviousPage:v,nextPage:N,canNextPage:g}))},K=function(e){var t=e.title,a=e.breadcrumbs;return""!==t&&a.length&&r.a.createElement("div",{className:"page-header"},r.a.createElement("h2",{className:"pageheader-title"},t),r.a.createElement("div",{className:"page-breadcrumb"},r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},a.map((function(e,t){return t===a.length-1?r.a.createElement("li",{key:t,className:"breadcrumb-item active"},e.name):r.a.createElement("li",{key:t,className:"breadcrumb-item"},r.a.createElement(b.b,{to:e.path,className:"breadcrumb-link"},e.name))}))))))},U=function(e){var t=e.message;return r.a.createElement("div",{className:"alert alert-danger mb-4"},r.a.createElement("span",{className:"font-18"},t))},W=function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(),s=Object(y.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(),d=Object(y.a)(u,2),b=d[0],h=d[1],E=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api"+"/Job/GetJobByClientId/".concat(p.getID()),{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 3:if(200===(t=e.sent).status){e.next=6;break}throw t;case 6:return e.next=8,t.json();case 8:(a=e.sent).length&&(n=a.map((function(e){return{id:e.jobId,title:e.title,startdate:L.formatDateString(e.startDate),enddate:L.formatDateString(e.endDate),status:e.isComplete?"Complete":"In Progress"}})),m(n),h([{Header:"Job Title",accessor:"title"},{Header:"Start Date",accessor:"startdate"},{Header:"End Date",accessor:"enddate"},{Header:"Completion Status",accessor:"status"}])),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:l(!0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){E()}),[]),r.a.createElement(R,{loaded:c},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},r.a.createElement(K,{title:"Welcome back, ".concat(e.name,"!"),breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Client Dashboard"}]}),i?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header"},"All Jobs"),r.a.createElement("div",{className:"card-body"},i?r.a.createElement(z,Object.assign({data:i,columns:b,path:"/job",searchable:!0},e)):r.a.createElement(U,{message:"No jobs to display."})))))):r.a.createElement(U,{message:"You have not created any jobs yet."}))))},V=function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(),s=Object(y.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(),d=Object(y.a)(u,2),b=d[0],h=d[1],E=Object(n.useState)(),f=Object(y.a)(E,2),v=f[0],N=f[1],j=Object(n.useState)(),x=Object(y.a)(j,2),O=x[0],w=x[1],k=Object(n.useState)(),S=Object(y.a)(k,2),C=S[0],I=S[1],D=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a,n,r,c,o,s,i,u,d,b;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat("http://localhost:5001/api","/Job/GetJobByLabourerId/").concat(p.getID()),e.next=4,fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(a=e.sent).status){e.next=7;break}throw a;case 7:return e.next=9,a.json();case 9:(n=e.sent).length&&(r=n.map((function(e){return{id:e.jobId,title:e.title,startdate:L.formatDateString(e.startDate),enddate:L.formatDateString(e.endDate),status:e.isComplete?"Complete":"In Progress"}})),m(r.reverse()),I([{Header:"Job Title",accessor:"title"},{Header:"Start Date",accessor:"startdate"},{Header:"End Date",accessor:"enddate"},{Header:"Completion Status",accessor:"status"}]),h(n.length)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:return e.prev=16,c="http://localhost:5001/api"+"/Incidents/GetIncidentsByLabourerId/".concat(p.getID()),e.next=20,fetch(c,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 20:if(200===(o=e.sent).status){e.next=23;break}throw o;case 23:return e.next=25,o.json();case 25:(s=e.sent).length&&N(s.length),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(16),console.error(e.t1);case 32:return e.prev=32,i="http://localhost:5001/api"+"/LabourerProfile/".concat(p.getID()),e.next=36,fetch(i,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 36:if(200===(u=e.sent).status){e.next=39;break}throw u;case 39:return e.next=41,u.json();case 41:(d=e.sent)&&d.averageQuality&&(b=Math.round(d.averageQuality/5*100),w(b)),e.next=48;break;case 45:e.prev=45,e.t2=e.catch(32),console.error(e.t2);case 48:l(!0);case 49:case"end":return e.stop()}}),e,null,[[0,13],[16,29],[32,45]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){D()}),[]),r.a.createElement(R,{loaded:c},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(K,{title:"Welcome back, ".concat(e.name,"!"),breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Labourer Dashboard"}]}),i?r.a.createElement(r.a.Fragment,null,O&&O<=70&&r.a.createElement(U,{message:r.a.createElement("p",{className:"font-18"},r.a.createElement("strong",null,"Warning:")," Your quality rating is significantly lower than the average rating of other labourers on this platform.")}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("h5",{className:"text-muted"},"Assigned Jobs"),r.a.createElement("h2",{className:"mb-0"},b||"N/A")),r.a.createElement("div",{className:"float-right icon-circle-medium icon-box-lg bg-info-light mt-1"},r.a.createElement("i",{className:"material-icons text-info"},"work"))))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("h5",{className:"text-muted"},"Total Incidents"),r.a.createElement("h2",{className:"mb-0"},v||"N/A")),r.a.createElement("div",{className:"float-right icon-circle-medium icon-box-lg bg-secondary-light mt-1"},r.a.createElement("i",{className:"material-icons text-secondary"},"report_problem"))))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("h5",{className:"text-muted"},"Overall Rating"),r.a.createElement("h2",{className:"mb-0"},O?"".concat(O,"%"):"N/A")),r.a.createElement("div",{className:"float-right icon-circle-medium icon-box-lg bg-brand-light mt-1"},r.a.createElement("i",{className:"material-icons text-brand"},"thumb_up")))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header"},"All Jobs"),r.a.createElement("div",{className:"card-body"},i&&r.a.createElement(z,Object.assign({data:i,columns:C,path:"/job",searchable:!0},e))))))):r.a.createElement(U,{message:"You have not been assigned any jobs yet."}))))},X=function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(),s=Object(y.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(),d=Object(y.a)(u,2),b=d[0],h=d[1],E=Object(n.useState)(),f=Object(y.a)(E,2),v=f[0],N=f[1],j=Object(n.useState)(),x=Object(y.a)(j,2),O=x[0],w=x[1],k=Object(n.useState)(),S=Object(y.a)(k,2),C=S[0],I=S[1],D=Object(n.useState)(),T=Object(y.a)(D,2),P=T[0],F=T[1],B=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a,n,r,c,o,s,i,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:5001/api/Job/GetAllActiveJobs",e.next=4,fetch("http://localhost:5001/api/Job/GetAllActiveJobs",{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(t=e.sent).status){e.next=7;break}throw t;case 7:return e.next=9,t.json();case 9:(a=e.sent).length&&(n=a.map((function(e){return{id:e.jobId,title:e.title,startdate:L.formatDateString(e.startDate),enddate:L.formatDateString(e.endDate),status:e.isComplete?"Complete":"In Progress"}})),m(n),h([{Header:"Job Title",accessor:"title"},{Header:"Start Date",accessor:"startdate"},{Header:"End Date",accessor:"enddate"},{Header:"Completion Status",accessor:"status"}]),N(a.length)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:return e.prev=16,"http://localhost:5001/api/Admin/GetClientCount",e.next=20,fetch("http://localhost:5001/api/Admin/GetClientCount",{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 20:if(200===(r=e.sent).status){e.next=23;break}throw r;case 23:return e.next=25,r.json();case 25:(c=e.sent)&&w(c),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(16),console.error(e.t1);case 32:return e.prev=32,"http://localhost:5001/api/Admin/GetLabourerCount",e.next=36,fetch("http://localhost:5001/api/Admin/GetLabourerCount",{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 36:if(200===(o=e.sent).status){e.next=39;break}throw o;case 39:return e.next=41,o.json();case 41:(s=e.sent)&&I(s),e.next=48;break;case 45:e.prev=45,e.t2=e.catch(32),console.error(e.t2);case 48:return e.prev=48,"http://localhost:5001/api/Admin/GetIncidentCount",e.next=52,fetch("http://localhost:5001/api/Admin/GetIncidentCount",{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 52:if(200===(i=e.sent).status){e.next=55;break}throw i;case 55:return e.next=57,i.json();case 57:(u=e.sent)&&F(u),e.next=64;break;case 61:e.prev=61,e.t3=e.catch(48),console.error(e.t3);case 64:l(!0);case 65:case"end":return e.stop()}}),e,null,[[0,13],[16,29],[32,45],[48,61]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){B()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Welcome back, Admin!",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Admin Dashboard"}]}),r.a.createElement(R,{loaded:c},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("h5",{className:"text-muted"},"Total Jobs"),r.a.createElement("h2",{className:"mb-0"},"".concat(v," active job(s)"))),r.a.createElement("div",{className:"float-right icon-circle-medium icon-box-lg bg-info-light mt-1"},r.a.createElement("i",{className:"material-icons text-info"},"work"))))),r.a.createElement("div",{className:"col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("h5",{className:"text-muted"},"Total Clients"),r.a.createElement("h2",{className:"mb-0"},"".concat(O," client(s)"))),r.a.createElement("div",{className:"float-right icon-circle-medium icon-box-lg bg-success-light mt-1"},r.a.createElement("i",{className:"material-icons text-success"},"business"))))),r.a.createElement("div",{className:"col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("h5",{className:"text-muted"},"Total Labourers"),r.a.createElement("h2",{className:"mb-0"},"".concat(C," labourer(s)"))),r.a.createElement("div",{className:"float-right icon-circle-medium icon-box-lg bg-brand-light mt-1"},r.a.createElement("i",{className:"material-icons text-brand"},"emoji_people"))))),r.a.createElement("div",{className:"col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("h5",{className:"text-muted"},"Incident Reports"),r.a.createElement("h2",{className:"mb-0"},"".concat(P," report(s)"))),r.a.createElement("div",{className:"float-right icon-circle-medium icon-box-lg bg-secondary-light mt-1"},r.a.createElement("i",{className:"material-icons text-secondary"},"warning")))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header"},"Active Jobs"),r.a.createElement("div",{className:"card-body"},i?r.a.createElement(z,Object.assign({data:i,columns:b,path:"/job",searchable:!0},e)):r.a.createElement(U,{message:"No jobs to display."})))))))},Y=function(e){var t=p.getRole(),a=p.getName(),n="Client"===t?r.a.createElement(W,Object.assign({name:a},e)):"Labourer"===t?r.a.createElement(V,Object.assign({name:a},e)):"Admin"===t?r.a.createElement(X,Object.assign({name:a},e)):null;return n?r.a.createElement(B,{content:n}):p.forceLogout()},Z=function(e){var t=Object(n.useState)(p.authenticateClient()||p.authenticateLabourer()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!1),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(!1),m=Object(y.a)(i,2),u=m[0],h=m[1],E=Object(n.useState)(),f=Object(y.a)(E,2),v=f[0],N=f[1],j=Object(n.useState)(),x=Object(y.a)(j,2),O=x[0],w=x[1],k=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat("http://localhost:5001/api","/Incidents/GetIncidentsBy").concat(p.getRole(),"Id/").concat(t),e.next=4,fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent).length&&(c=r.map((function(e){return{id:e.incidentReportId,date:L.formatDateString(e.incidentReportDate),job:e.jobTitle,type:e.incidentType}})),w([{Header:"Date",accessor:"date"},{Header:"Incident Type",accessor:"type"},{Header:"Job Title",accessor:"job"}]),N(c.reverse())),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:s(!0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),S=a?r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Incidents",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Incidents"}]}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex"},r.a.createElement("h4",{className:"card-header-title"},"Incidents"),u&&r.a.createElement("div",{className:"toolbar ml-auto"},r.a.createElement(b.b,{to:"/addincident",className:"btn btn-primary btn-sm"},"Add New"))),r.a.createElement("div",{className:"card-body"},r.a.createElement(R,{loaded:o},v?r.a.createElement(z,Object.assign({data:v,columns:O,path:"/incident",searchable:!0},e)):r.a.createElement(U,{message:"No incidents to display."}))))))):r.a.createElement(d.a,{to:"/dashboard"});return Object(n.useEffect)((function(){a&&(k(p.getID()),h(p.authenticateClient()))}),[]),a?r.a.createElement(B,{content:S}):r.a.createElement(d.a,{to:"/dashboard"})},_=a(13),$=a(25),ee=a(50),te=a.n(ee),ae=a(51),ne=a.n(ae),re=a(14),ce=a.n(re),le=function(e){var t=Object(n.useState)(e.rating),a=Object(y.a)(t,2),c=a[0],l=a[1],o=function(){var t=Object(A.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==(n=p.getToken())&&p.forceLogout(),t.prev=2,t.next=5,fetch("http://localhost:5001/api/JobHistory/ClientQuality",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({JobId:e.jobId,LabourerId:e.labourerId,ClientQualityRating:a})});case 5:return r=t.sent,t.next=8,r.json();case 8:t.sent&&l(a),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(ce.a,{rating:c,widgetDimensions:"14px",name:"rating",changeRating:o},r.a.createElement(ce.a.Widget,{widgetHoverColor:"#6d7a82"}),r.a.createElement(ce.a.Widget,{widgetHoverColor:"#6d7a82"}),r.a.createElement(ce.a.Widget,{widgetHoverColor:"#6d7a82"}),r.a.createElement(ce.a.Widget,{widgetHoverColor:"#6d7a82"}),r.a.createElement(ce.a.Widget,{widgetHoverColor:"#6d7a82"}))},oe=a(30),se=a.n(oe),ie=function(e){var t=Object(n.useState)(e.safetyMeeting),a=Object(y.a)(t,2),c=a[0],l=a[1],o=function(){var t=Object(A.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"http://localhost:5001/api/JobLabourers",t.next=4,fetch("http://localhost:5001/api/JobLabourers",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())},body:JSON.stringify({JobId:e.jobId,LabourerId:e.labourerId,SafetyMeetingCompleted:a})});case 4:if(200===(n=t.sent).status){t.next=7;break}throw n;case 7:return t.next=9,n.json();case 9:t.sent&&l(a),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{size:"3",tickSize:"2",color:"#28a745",onChange:o,checked:c}),p.authenticateAdmin()?r.a.createElement(b.b,{to:"/profile/labourer/".concat(e.labourerId),className:"ml-3"},"".concat(e.firstname," ").concat(e.lastname)):r.a.createElement("span",{className:"ml-3"},"".concat(e.firstname," ").concat(e.lastname)))},me=function(){return r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("span",{className:"h5"},"You don't have permission to view this page."))},ue=function(e){var t=Object(n.useState)(e.match.params.id&&Object(_.isWholeNumber)(e.match.params.id)?e.match.params.id:null),a=Object(y.a)(t,1)[0],c=Object(n.useState)(p.authenticateAdmin()),l=Object(y.a)(c,1)[0],o=Object(n.useState)(p.authenticateClient()),s=Object(y.a)(o,1)[0],i=Object(n.useState)(p.authenticateLabourer()),m=Object(y.a)(i,1)[0],u=Object(n.useState)(),d=Object(y.a)(u,2),h=d[0],E=d[1],f=Object(n.useState)(!1),v=Object(y.a)(f,2),N=v[0],j=v[1],x=Object(n.useState)(),O=Object(y.a)(x,2),w=O[0],k=O[1],S=Object(n.useState)(),C=Object(y.a)(S,2),I=C[0],D=C[1],T=Object(n.useState)(),P=Object(y.a)(T,2),F=P[0],H=P[1],J=Object(n.useState)(),G=Object(y.a)(J,2),Q=G[0],q=G[1],M=Object(n.useState)(),W=Object(y.a)(M,2),V=W[0],X=W[1],Y=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r,c,l,o,i,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api/job/getJob/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())}});case 3:if(200===(a=e.sent).status){e.next=6;break}throw a;case 6:return e.next=8,a.json();case 8:(n=e.sent)&&(k(n),E(!(!s||p.getID()!=n.clientId))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:return e.prev=15,e.next=18,fetch("http://localhost:5001/api/LabourerAttendance/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 18:if(200===(r=e.sent).status){e.next=21;break}throw r;case 21:return e.next=23,r.json();case 23:(c=e.sent).length&&(l=c.map((function(e){return{id:L.formatDateParams(e),date:L.formatDateString(e)}})),q(l),X([{Header:"Date",accessor:"date"}])),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(15),console.error(e.t1);case 30:return e.prev=30,e.next=33,fetch("http://localhost:5001/api/incidents/GetIncidentsByJobId/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())}});case 33:if(200===(o=e.sent).status){e.next=36;break}throw o;case 36:return e.next=38,o.json();case 38:(i=e.sent)&&i.length&&(m=i.map((function(e){return{id:e.incidentReportId,job:e.job.title,date:L.formatDateString(e.incidentReportDate),type:e.incidentType.incidentTypeName,affected:"".concat(e.labourerIncidentReport.length," labourer(s)")}})),D(m),H([{Header:"Date",accessor:"date"},{Header:"Incident Type",accessor:"type"},{Header:"# affected",accessor:"affected"}])),e.next=45;break;case 42:e.prev=42,e.t2=e.catch(30),console.error(e.t2);case 45:j(!0);case 46:case"end":return e.stop()}}),e,null,[[0,12],[15,27],[30,42]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a?Y(a):j(!0)}),[]);var Z=r.a.createElement(R,{loaded:N},s&&!h?r.a.createElement(me,null):r.a.createElement(r.a.Fragment,null,w?r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Job Details",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:w.title}]}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-xl-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"font-26 mb-2"},w.title),r.a.createElement("p",null,w.client.clientName)),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("p",null,w.jobDescription)),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Status"),w.isComplete?r.a.createElement("span",{className:"badge badge-success"},"Complete"):r.a.createElement("span",{className:"badge badge-primary"},"In Progress")),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Dates"),r.a.createElement("time",null,L.formatDateString(w.startDate))," to ",r.a.createElement("time",null,L.formatDateString(w.endDate))),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Location"),r.a.createElement("address",{className:"mb-0"},w.street,r.a.createElement("br",null),w.city,", ",w.state)),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Labourers Hired"),w.jobSkill.map((function(e,t){return r.a.createElement("ul",{key:t,className:"list-unstyled mb-0"},r.a.createElement("li",null,e.skill.skillName," (",e.numberNeeded,")"))}))),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Total Hired"),r.a.createElement("p",null,"".concat(w.totalHired," labourer(s) hired"))),h&&r.a.createElement("div",{className:"card-body border-top"},r.a.createElement(b.b,{to:"/editjob/".concat(w.jobId),className:"btn btn-light"},"Edit Job Details")))),r.a.createElement("div",{className:"col-12 col-xl-8"},r.a.createElement($.b,{defaultActiveKey:"1",onChange:function(e){},renderTabBar:function(){return r.a.createElement(ne.a,null)},renderTabContent:function(){return r.a.createElement(te.a,null)}},(s||l)&&r.a.createElement($.a,{tab:"Labourer Attendance",key:"1"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"Daily ratings are used to track a labourer's attendance, and calculate their average quality rating."),Q?r.a.createElement(z,Object.assign({columns:V,data:Q,path:"/job/".concat(a,"/attendance"),itemsPerPage:5,searchable:!0},e)):r.a.createElement(U,{message:"No dates to display."})))),(s||l)&&r.a.createElement($.a,{tab:"Safety Meetings",key:"2"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"Safety meetings are required before a labourer can start working at the job site. Please check off the dates where the meetings were completed."),w.jobLabourer?r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,w.jobLabourer.map((function(e,t){return t<5&&r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"p-3"},r.a.createElement(ie,{key:t,firstname:e.labourer.labourerFirstName,lastname:e.labourer.labourerLastName,safetyMeeting:e.safetyMeetingCompleted,labourerId:e.labourerId,jobId:w.jobId,clientId:w.clientId})))})))):r.a.createElement(U,{message:"No labourers to display."})),r.a.createElement("div",{className:"card-header mt-0",style:{borderBottom:"none"}},r.a.createElement(b.b,{to:"".concat(window.location.pathname,"/safetymeetings"),className:"btn btn-primary btn-sm float-right"},"View All Labourers")))),m&&r.a.createElement($.a,{tab:"Rate Client",key:"3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"Please give your client a rating from 1 to 5."),w.jobLabourer.map((function(e,t){return p.getID()==e.labourerId&&r.a.createElement(le,{key:t,jobId:w.jobId,labourerId:e.labourer.labourerId,rating:e.clientQualityRating})}))))),r.a.createElement($.a,{tab:"Incident Reports",key:"4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},I?r.a.createElement(z,Object.assign({data:I,columns:F,path:"/incident",itemsPerPage:5,searchable:!1},e)):r.a.createElement(U,{message:"No incidents to display."})))))))):r.a.createElement(U,{message:"Job does not exist."})));return r.a.createElement(B,{content:Z})},de=function(e){var t=Object(n.useState)(e.match.params.id&&Object(_.isWholeNumber)(e.match.params.id)?e.match.params.id:null),a=Object(y.a)(t,1)[0],c=Object(n.useState)(p.authenticateAdmin()||p.authenticateClient()),l=Object(y.a)(c,2),o=l[0],s=(l[1],Object(n.useState)(!1)),i=Object(y.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(""),b=Object(y.a)(d,2),h=b[0],E=b[1],f=Object(n.useState)(),v=Object(y.a)(f,2),N=v[0],j=v[1],x=function(){var e=Object(A.a)(g.a.mark((function e(){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat("http://localhost:5001/api","/job/getJob/").concat(a),e.next=4,fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())}});case 4:return n=e.sent,e.next=7,n.json();case 7:if(r=e.sent,200===n.status){e.next=10;break}throw n;case 10:r&&r.jobLabourer.length&&(E(r),j(r.jobLabourer)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:u(!0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){x()}),[]);var O=r.a.createElement(R,{loaded:m},h?r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"".concat(h.title,": Safety Meetings"),breadcrumbs:[{name:"Home",path:"/dashboard"},{name:h.title,path:"/job/".concat(h.jobId)},{name:"Safety Meetings"}]}),N?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Labour Type"))),r.a.createElement("tbody",null,h.jobLabourer.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"p-3"},r.a.createElement(ie,{key:t,firstname:e.labourer.labourerFirstName,lastname:e.labourer.labourerLastName,safetyMeeting:e.safetyMeetingCompleted,labourerId:e.labourerId,jobId:h.jobId,clientId:h.clientId})),r.a.createElement("td",null,e.skill.skillName))})))))):r.a.createElement(U,{message:"No labourers to display."})):r.a.createElement(U,{message:"Job does not exist."}));return r.a.createElement(B,{content:o?O:r.a.createElement(me,null)})},be=function(e){var t=Object(n.useState)(e.rating),a=Object(y.a)(t,2),c=a[0],l=a[1],o=function(){var t=Object(A.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.changeRating(a,e.labourerId,e.jobId),l(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(ce.a,{rating:c,widgetDimensions:"14px",name:"rating",changeRating:p.authenticateAdmin()||e.clientId==p.getID()?o:null},r.a.createElement(ce.a.Widget,{widgetHoverColor:"#6d7a82"}),r.a.createElement(ce.a.Widget,{widgetHoverColor:"#6d7a82"}),r.a.createElement(ce.a.Widget,{widgetHoverColor:"#6d7a82"}),r.a.createElement(ce.a.Widget,{widgetHoverColor:"#6d7a82"}),r.a.createElement(ce.a.Widget,{widgetHoverColor:"#6d7a82"}))},pe=function(e){var t=Object(n.useState)(e.match.params.id&&Object(_.isWholeNumber)(e.match.params.id)?e.match.params.id:null),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!1),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(),m=Object(y.a)(i,2),u=m[0],d=m[1],b=Object(n.useState)(),h=Object(y.a)(b,2),E=h[0],f=h[1],v=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api/incidents/GetIncidentByIncidentId/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())}});case 3:if(200===(a=e.sent).status){e.next=6;break}throw a;case 6:return e.next=8,a.json();case 8:(n=e.sent)&&(d(n.incidentReport),f(n.jobLabourers)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:s(!0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(A.a)(g.a.mark((function e(t,a,n){var r,c,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(r=p.getToken())&&p.forceLogout(),e.prev=2,e.next=5,fetch("http://localhost:5001/api/JobHistory/LabourerSafety",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({JobId:n,LabourerId:a,LabourerSafetyRating:t})});case 5:return c=e.sent,e.next=8,c.json();case 8:(l=e.sent)&&console.log(l),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a,n){return e.apply(this,arguments)}}(),j=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Incident Details",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Incidents",path:"/incidents"},{name:"Incident Details"}]}),r.a.createElement(R,{loaded:o},u?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"font-26 mb-0"},u.job.title),r.a.createElement("p",null,u.job.client.clientName),r.a.createElement("p",null,u.job.street,r.a.createElement("br",null),u.job.city,", ",u.job.client.clientState)),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Date of Incident"),r.a.createElement("time",null,u.incidentReportDate.split("T")[0])),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Incident type"),r.a.createElement("p",null,u.incidentType.incidentTypeName)),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Incident Description"),r.a.createElement("p",null,u.incidentReportDescription)),E&&(p.authenticateClient()||p.authenticateAdmin())&&r.a.createElement("div",{className:"card",id:"safetyratings"},r.a.createElement("h5",{className:"card-header"},"Safety Ratings"),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"Give effected labourers a rating, based on their safety-wise performance on this job."),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Rating"))),r.a.createElement("tbody",null,E.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,"".concat(e.labourer.labourerFirstName," ").concat(e.labourer.labourerLastName)),r.a.createElement("td",null,r.a.createElement(be,{changeRating:N,clientId:u.job.clientId,jobId:u.jobId,labourerId:e.labourer.labourerId,rating:e.labourerSafetyRating})))})))))),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Incident File"),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile",style:{cursor:"pointer"}}),r.a.createElement("label",{className:"custom-file-label d-flex",htmlFor:"customFile"},r.a.createElement("i",{className:"material-icons mr-2"},"publish")," Choose incident file")))))):r.a.createElement(U,{message:"Incident does not exist."})));return Object(n.useEffect)((function(){a?v(a):s(!0)}),[]),r.a.createElement(B,{content:j})},he=a(23),Ee=function(e){var t=e.data,a=Object(n.useState)(),c=Object(y.a)(a,2),l=c[0],o=c[1],s=function(e,t){return(e*t).toFixed(2)},i=function(e,t){var a=0;return t.forEach((function(t){a+=parseFloat(m(t.rate,t.quantity,e))})),a.toFixed(2)},m=function(e,t,a){return(8*a*t*e).toFixed(2)};return Object(n.useEffect)((function(){var e,a;t&&o(Object(j.a)({},t,{labourers:t.labourers.map((function(e){return{type:e.type,rate:e.rate,quantity:e.quantity,total:m(e.rate,e.quantity,t.duration)}})),subtotal:i(t.duration,t.labourers),recruitmentFee:s(.2,i(t.duration,t.labourers)),total:(e=i(t.duration,t.labourers),a=s(.2,i(t.duration,t.labourers)),(parseFloat(e)+parseFloat(a)).toFixed(2))}))}),[]),l?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"offset-xl-2 col-xl-8 col-lg-12 col-md-12 col-sm-12 col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header p-4"},r.a.createElement("div",null,r.a.createElement("h3",{className:"mb-0"},l.job),r.a.createElement("p",{className:"mt-1"},l.isComplete?"Completed":"In Progress"))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h5",{className:"mb-3"},"From:"),r.a.createElement("h3",{className:"text-dark mb-1"},"Labour Hier"),r.a.createElement("div",null,"555 Seymour Street"),r.a.createElement("div",null,"Vancouver, British Columbia")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h5",{className:"mb-3"},"To:"),r.a.createElement("h3",{className:"text-dark mb-1"},l.client.name),r.a.createElement("div",null,l.client.address),r.a.createElement("div",null,l.client.phone))),r.a.createElement("div",{className:"table-responsive-sm"},r.a.createElement("table",{className:"table table-striped table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Labourer Type"),r.a.createElement("th",{className:"right"},"Hourly Rate"),r.a.createElement("th",{className:"center"},"# Hired"),r.a.createElement("th",{className:"right text-right"},"Total"))),r.a.createElement("tbody",null,l.labourers.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"left strong"},e.type),r.a.createElement("td",{className:"right"},"$".concat(e.rate)),r.a.createElement("td",{className:"center"},e.quantity),r.a.createElement("td",{className:"right text-right"},"$".concat(e.total)))}))))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-lg-6 col-sm-5"}),r.a.createElement("div",{className:"col-lg-6 col-sm-5 ml-auto"},r.a.createElement("table",{className:"table table-clear"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"left"},r.a.createElement("strong",{className:"text-dark"},"Subtotal")),r.a.createElement("td",{className:"right text-right"},"$".concat(l.subtotal))),r.a.createElement("tr",null,r.a.createElement("td",{className:"left"},r.a.createElement("strong",{className:"text-dark"},"Recruitment Fee (20%)")),r.a.createElement("td",{className:"right text-right"},"$".concat(l.recruitmentFee))),r.a.createElement("tr",null,r.a.createElement("td",{className:"left"},r.a.createElement("strong",{className:"text-dark"},"Total")),r.a.createElement("td",{className:"right text-right"},r.a.createElement("strong",{className:"text-dark"},"$".concat(l.total))))))))),r.a.createElement("div",{className:"card-footer bg-white"},r.a.createElement("p",{className:"mb-0"},"Labour Hier"))))):r.a.createElement(U,{message:"No invoice available"})},fe=function(e){var t=Object(n.useState)(p.authenticateAdmin()||p.authenticateClient()),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(e.match.params&&{JobId:e.match.params.id&&Object(_.isWholeNumber)(e.match.params.id)?e.match.params.id:null,StartDay:Object(he.isValidDate)(e.match.params.startdate)?e.match.params.startdate:null,EndDay:Object(he.isValidDate)(e.match.params.enddate)?e.match.params.enddate:null}),s=Object(y.a)(o,1)[0],i=Object(n.useState)(!1),m=Object(y.a)(i,2),u=m[0],d=m[1],b=Object(n.useState)(),h=Object(y.a)(b,2),E=h[0],f=h[1],v=function(e,t){var a=new Date(e),n=new Date(t);if(a.getTime()===n.getTime())return 1;return Math.round(Math.abs((a-n)/864e5))},N=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a,n,r,c,l,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://localhost:5001/api"+"/Job/GetJob/".concat(s.JobId),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent)&&(t={job:r.title,complete:r.isComplete,duration:v(r.startDate,r.endDate),isComplete:r.isComplete,client:{name:r.client.clientName,address:"".concat(r.client.clientCity,", ").concat(r.client.clientState),phone:r.client.clientPhoneNumber}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:return e.prev=16,"http://localhost:5001/api/ClientInvoice",e.next=20,fetch("http://localhost:5001/api/ClientInvoice",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())},body:JSON.stringify(s)});case 20:if(200===(c=e.sent).status){e.next=23;break}throw c;case 23:return e.next=25,c.json();case 25:(l=e.sent).length&&(o=[],l.forEach((function(e){var t=e.skill.skillName;if(o.some((function(e){return e.type===t}))){var a=o.map((function(e){return e.type})).indexOf(t),n=o[a].quantity+1;o[a]=Object(j.a)({},o[a],{quantity:n})}else o.push({type:t,quantity:1,rate:e.skill.labourerReceives})})),t=Object(j.a)({},t,{labourers:o})),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(16),console.error(e.t1);case 32:t&&t.labourers&&f(t),d(!0);case 34:case"end":return e.stop()}}),e,null,[[0,13],[16,29]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://localhost:5001/api"+"/Job/GetClientIDByJobID/".concat(t),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent).length&&r[0].toString()!==p.getID()&&l(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),O=r.a.createElement(R,{loaded:u},r.a.createElement(K,{title:"Invoice Details",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Invoices",path:p.authenticateAdmin()?"/admin/invoices":"/invoices"},{name:"Invoice Details"}]}),E?r.a.createElement(Ee,{data:E}):r.a.createElement(U,{message:"Invoice does not exist."}));return Object(n.useEffect)((function(){s&&(p.authenticateClient()&&x(s.JobId),N())}),[]),r.a.createElement(B,{content:c?O:r.a.createElement(me,null)})},ve=function(e){var t=Object(n.useState)(p.authenticateAdmin()||p.authenticateClient()),a=Object(y.a)(t,2),c=a[0],l=(a[1],Object(n.useState)(e.match.params&&{JobId:e.match.params.id&&Object(_.isWholeNumber)(e.match.params.id)?e.match.params.id:null,StartDay:Object(he.isValidDate)(e.match.params.startdate)?e.match.params.startdate:null,EndDay:Object(he.isValidDate)(e.match.params.enddate)?e.match.params.enddate:null})),o=Object(y.a)(l,1)[0],s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(),b=Object(y.a)(d,2),h=b[0],E=b[1],f=Object(n.useState)(),v=Object(y.a)(f,2),N=v[0],j=v[1],x=Object(n.useState)(),O=Object(y.a)(x,2),w=O[0],k=O[1],S=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a,n,r,c,l,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://localhost:5001/api"+"/Job/GetJob/".concat(o.JobId),e.next=4,fetch(t,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(a=e.sent).status){e.next=7;break}throw a;case 7:return e.next=9,a.json();case 9:n=e.sent,console.log(n),n&&(r={title:n.title,startdate:L.formatDateString(n.startDate),enddate:L.formatDateString(n.endDate)},E(r)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:return e.prev=17,"http://localhost:5001/api/ClientInvoice",e.next=21,fetch("http://localhost:5001/api/ClientInvoice",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())},body:JSON.stringify(o)});case 21:if(200===(c=e.sent).status){e.next=24;break}throw c;case 24:return e.next=26,c.json();case 26:(l=e.sent).length&&(s=l.map((function(e){return{id:e.labourer.labourerId,name:e.labourer.labourerFirstName+" "+e.labourer.labourerLastName,skill:e.skill.skillName,days:e.workedDays,hours:e.totalHours}})),k([{Header:"Name",accessor:"name"},{Header:"Skill",accessor:"skill"},{Header:"# Days",accessor:"days"},{Header:"# Hours",accessor:"hours"}]),j(s)),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(17),console.error(e.t1);case 33:u(!0);case 34:case"end":return e.stop()}}),e,null,[[0,14],[17,30]])})));return function(){return e.apply(this,arguments)}}(),C=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Payroll Details",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Payroll",path:"/admin/payrolls"},{name:"Payroll Details"}]}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},h&&r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{className:"card-header-title"},h.title),r.a.createElement("h6",{className:"card-header-title"},h.startdate," - ",h.enddate)),r.a.createElement("div",{className:"card-body"},r.a.createElement(R,{loaded:m},N?r.a.createElement(z,Object.assign({data:N,columns:w,path:"/profile/labourer",searchable:!0,striped:!0},e)):r.a.createElement(U,{message:"No labourers to display."})))))));return Object(n.useEffect)((function(){S()}),[]),r.a.createElement(B,{content:c?C:r.a.createElement(me,null)})},ge=a(9),Ae=[{label:"Alberta",value:"ab"},{label:"British Columbia",value:"bc"},{label:"Manitoba",value:"mb"},{label:"New Brunswick",value:"nb"},{label:"Newfoundland and Labrador",value:"nl"},{label:"Nova Scotia",value:"ns"},{label:"Northwest Territories",value:"nt"},{label:"Nunavut",value:"nu"},{label:"Ontario",value:"on"},{label:"Prince Edward Island",value:"pe"},{label:"Quebec",value:"qc"},{label:"Saskatchewan",value:"sk"},{label:"Yukon",value:"yt"}],Ne=function(e){var t=Object(n.useState)(p.getID()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(!1),m=Object(y.a)(i,2),u=m[0],d=m[1],h=Object(n.useState)([]),E=Object(y.a)(h,2),f=E[0],v=E[1],w=Object(n.useState)({companyname:"",email:"",phonenumber:"",city:"",province:"",companydescription:""}),k=Object(y.a)(w,2),S=k[0],C=k[1],I=S.companyname,D=S.email,T=S.phonenumber,P=S.city,F=S.province,B=S.companydescription,L=function(){var e=Object(A.a)(g.a.mark((function e(){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api"+"/ClientProfile/".concat(a),{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 3:if(200===(t=e.sent).status){e.next=6;break}throw t;case 6:return e.next=8,t.json();case 8:(n=e.sent).client&&(d(!0),r=n.client,Ae.find((function(e){return e.label===r.clientState})),C({companyname:r.clientName,email:r.clientEmail,phonenumber:r.clientPhoneNumber,city:r.clientCity,province:Ae.find((function(e){return e.label===r.clientState})),companydescription:r.clientDescription?r.clientDescription:""})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:s(!0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),H=function(e){e.preventDefault();var t=[];""===I&&t.push("Company name is required."),x.email(D)||t.push("Invalid email entered."),x.phone(T)||t.push("Invalid phone number entered."),""===P&&t.push("City is required."),t.length?v(t):J()},J=function(){var t=Object(A.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:5001/api/ClientProfile",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())},body:JSON.stringify({Client:{ClientId:a,ClientName:I,ClientEmail:D,ClientPhoneNumber:T,ClientCity:P,ClientState:"object"===typeof F?F.label:F,ClientDescription:B}})});case 3:if(204===(n=t.sent).status){t.next=8;break}throw n;case 8:e.history.push("/profile/client/".concat(a));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),G=function(e){C(Object(j.a)({},S,Object(N.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){L()}),[]);var Q=u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Update Profile",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Update Profile"}]}),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},f.length>0&&r.a.createElement(O,{errors:f}),r.a.createElement("form",{onSubmit:function(e){return H(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Company Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,onChange:function(e){return G(e)},value:I,name:"companyname",type:"text",maxLength:"40",className:"form-control form-control-lg"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Email Address ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,onChange:function(e){return G(e)},value:D,name:"email",type:"email",className:"form-control form-control-lg"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Phone Number ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,onChange:function(e){return G(e)},value:T,name:"phonenumber",type:"text",className:"form-control form-control-lg"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"City ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,onChange:function(e){return G(e)},value:P,name:"city",type:"text",className:"form-control form-control-lg"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"province"},"Province ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(ge.a,{required:!0,defaultValue:F,onChange:function(e){return function(e){C(Object(j.a)({},S,{province:e.label}))}(e)},options:Ae})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Company Description"),r.a.createElement("textarea",{onChange:function(e){return G(e)},value:B,name:"companydescription",type:"text",className:"form-control form-control-lg",rows:"5"})),r.a.createElement("div",{className:"form-group row text-right mt-3"},r.a.createElement("div",{className:"col col-lg-12"},r.a.createElement(b.b,{to:"/profile/client/".concat(a),className:"btn btn-light btn-lg"},"Cancel"),r.a.createElement("button",{type:"submit",onClick:function(e){return H(e)},className:"btn btn-primary btn-lg ml-2"},"Save Changes")))))));return r.a.createElement(R,{loaded:o},Q||r.a.createElement(U,{message:"No profile found."}))},je=function(e){var t=Object(n.useState)(p.getID()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(!1),m=Object(y.a)(i,2),u=m[0],d=m[1],h=Object(n.useState)(),E=Object(y.a)(h,2),f=E[0],v=E[1],w=Object(n.useState)([]),k=Object(y.a)(w,2),S=k[0],C=k[1],I=Object(n.useState)([]),D=Object(y.a)(I,2),T=D[0],P=D[1],F=Object(n.useState)({firstname:"",lastname:"",email:"",isAvailable:null}),B=Object(y.a)(F,2),L=B[0],H=B[1],J=L.firstname,G=L.lastname,Q=L.email,q=(L.isAvailable,function(){var e=Object(A.a)(g.a.mark((function e(){var t,n,r,c,l,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://localhost:5001/api"+"/LabourerProfile/".concat(a),e.next=4,fetch(t,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent).labourer&&(d(!0),c=r.labourer,H({firstname:c.labourerFirstName,lastname:c.labourerLastName,email:c.labourerEmail})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:return e.prev=16,l="http://localhost:5001/api"+"/SkillsLabourer/".concat(a),e.next=20,fetch(l,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 20:if(200===(o=e.sent).status){e.next=23;break}throw o;case 23:return e.next=25,o.json();case 25:(i=e.sent).length&&P(i.map((function(e){return{value:e.skill.skillId,label:e.skill.skillName}}))),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(16),console.error(e.t1);case 32:s(!0);case 33:case"end":return e.stop()}}),e,null,[[0,13],[16,29]])})));return function(){return e.apply(this,arguments)}}()),M=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:5001/api/Skills/GetAllSkills",e.next=4,fetch("http://localhost:5001/api/Skills/GetAllSkills");case 4:if(200===(t=e.sent).status){e.next=7;break}throw t;case 7:return e.next=9,t.json();case 9:(a=e.sent).length&&v(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var t=Object(A.a)(g.a.mark((function t(){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="http://localhost:5001/api"+"/LabourerProfile/".concat(p.getID()),t.next=4,fetch(n,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())},body:JSON.stringify({Labourer:{LabourerId:a,LabourerFirstName:J,LabourerLastName:G,LabourerEmail:Q},Skills:T.map((function(e){return{SkillName:e.label}}))})});case 4:if(204===(r=t.sent).status){t.next=9;break}throw r;case 9:e.history.push("/profile/labourer/".concat(a));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),W=function(e){e.preventDefault();var t=[];x.name(J)||t.push("Invalid first name entered."),x.name(G)||(console.log(G),t.push("Invalid last name entered.")),x.email(Q)||t.push("Invalid email entered."),T.length||t.push("You must select at least one skill."),t.length?C(t):z()},V=function(e){H(Object(j.a)({},L,Object(N.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){q(),M()}),[]);var X=u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Update Profile",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Update Profile"}]}),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},S.length>0&&r.a.createElement(O,{errors:S}),r.a.createElement("form",{onSubmit:function(e){return W(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"First Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,onChange:function(e){return V(e)},value:J,name:"firstname",type:"text",maxLength:"40",className:"form-control form-control-lg"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Last Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,onChange:function(e){return V(e)},value:G,name:"lastname",type:"text",maxLength:"40",className:"form-control form-control-lg"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Email Address ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,onChange:function(e){return V(e)},value:Q,name:"email",type:"email",className:"form-control form-control-lg"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-block",htmlFor:"skills"},"Select Skills ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(ge.a,{defaultValue:T,options:f&&f.map((function(e){return{value:e.skillId,label:e.skillName}})),onChange:function(e){if(e)if(e.length){var t=[];e.forEach((function(e){return t.push(e)})),P(t)}else P([]);else P([])},isMulti:!0})),r.a.createElement("div",{className:"form-group row text-right mt-3"},r.a.createElement("div",{className:"col col-lg-12"},r.a.createElement(b.b,{to:"/profile/labourer/".concat(a),className:"btn btn-light btn-lg"},"Cancel"),r.a.createElement("button",{type:"submit",onClick:function(e){return W(e)},className:"btn btn-primary btn-lg ml-2"},"Save Changes")))))));return r.a.createElement(R,{loaded:o},X||r.a.createElement(U,{message:"No profile found."}))},ye=function(e){var t=p.getRole(),a="Client"===t?r.a.createElement(Ne,e):"Labourer"===t?r.a.createElement(je,e):null;return a?r.a.createElement(B,{content:a}):r.a.createElement(d.a,{to:"/dashboard"})},xe=function(e){var t=e.history,a=Object(n.useState)([]),c=Object(y.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)({email:"",password:"",companyname:"",phonenumber:"",city:"",province:"",companydescription:""}),i=Object(y.a)(s,2),m=i[0],u=i[1],h=m.email,E=m.password,f=m.confirmpassword,v=m.companyname,w=m.phonenumber,k=m.city,S=m.province,C=m.companydescription,I=function(e){u(Object(j.a)({},m,Object(N.a)({},e.target.name,e.target.value)))},D=function(){var e=Object(A.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api/RegisterClient",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({User:{email:h,password:E},Client:{ClientName:v,ClientEmail:h,ClientPhoneNumber:w,ClientCity:k,ClientState:S,ClientDescription:C}})});case 3:if(200===(a=e.sent).status){e.next=7;break}throw o(["Registration failed. Please try again later."]),a;case 7:return e.next=9,a.json();case 9:(n=e.sent).token&&" "!==n.token&&""!==n.token?p.setSessionData(n,t):o(["Registration failed. Please try again later."]),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),o(["Registration failed. Please try again later."]);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return p.authenticateUser()?r.a.createElement(d.a,{to:{pathname:"/dashboard"}}):r.a.createElement("div",{className:"splash-container-wrapper"},r.a.createElement("form",{className:"splash-container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"mb-1"},"Create Client Account"),r.a.createElement("p",null,"Enter your user information.")),r.a.createElement("div",{className:"card-body"},l.length>0&&r.a.createElement(O,{errors:l}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"companyname"},"Company Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control form-control-lg",name:"companyname",type:"text",placeholder:"Enter company name",required:!0,onChange:function(e){return I(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email Address ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control form-control-lg",name:"email",type:"email",placeholder:"Enter email address",required:!0,onChange:function(e){return I(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control form-control-lg",name:"password",type:"password",placeholder:"Enter password",required:!0,onChange:function(e){return I(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"confirmpassword"},"Confirm Password ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control form-control-lg",name:"confirmpassword",type:"password",placeholder:"Enter password again",required:!0,onChange:function(e){return I(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phonenumber"},"Phone Number ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control form-control-lg",name:"phonenumber",type:"tel",placeholder:"Enter phone number",required:!0,onChange:function(e){return I(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"city"},"City ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control form-control-lg",name:"city",type:"text",placeholder:"Enter city",required:!0,onChange:function(e){return I(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"province"},"Province ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(ge.a,{options:Ae,onChange:function(e){return function(e){u(Object(j.a)({},m,{province:e.label}))}(e)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"companydescription"},"Company Description ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("textarea",{className:"form-control form-control-lg",name:"companydescription",type:"text",placeholder:"Enter company description",required:!0,onChange:function(e){return I(e)}})),r.a.createElement("div",{className:"form-group pt-2"},r.a.createElement("button",{className:"btn btn-block btn-primary btn-lg",onClick:function(e){e.preventDefault();var t=[];""===v&&t.push("Company name is required."),x.email(h)||t.push("Invalid email entered."),E===f?x.password(E)||t.push("Password must contain at least 6 letters, and each of the following: one uppercase letter, one lowercase letter, one number, and one symbol."):t.push("Passwords do not match."),x.phone(w)||t.push("Invalid phone number entered."),""===k&&t.push("City is required."),t.length?o(t):D()}},"Create Account"))),r.a.createElement("div",{className:"card-footer bg-white"},r.a.createElement("p",null,"Already have an account? ",r.a.createElement(b.b,{to:"/login",className:"text-primary"},"Login here."))))))},Oe=function(e){var t=e.rating,a=0!=t&&t?"".concat(Math.round(t/5*100),"%"):"N/A",n=0!==t&&t?t>=4?"success":3===t?"warning":"danger":"info";return r.a.createElement("p",{className:"font-18 bg-".concat(n,"-light d-inline-block p-2 rounded text-").concat(n)},a)},we=function(e){var t=Object(n.useState)(e.match.params.id&&Object(_.isWholeNumber)(e.match.params.id)?e.match.params.id:null),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!(!p.authenticateClient()||p.getID()!==a)||!!p.authenticateAdmin()),l=Object(y.a)(c,1)[0],o=Object(n.useState)(l&&p.authenticateClient()),s=Object(y.a)(o,1)[0],i=Object(n.useState)(p.authenticateAdmin()),m=Object(y.a)(i,1)[0],u=Object(n.useState)(),d=Object(y.a)(u,2),h=d[0],E=d[1],f=Object(n.useState)(),v=Object(y.a)(f,2),N=v[0],x=v[1],O=Object(n.useState)(),w=Object(y.a)(O,2),k=w[0],S=w[1],C=Object(n.useState)(),I=Object(y.a)(C,2),D=I[0],T=I[1],P=Object(n.useState)(),F=Object(y.a)(P,2),H=F[0],J=F[1],G=Object(n.useState)(),Q=Object(y.a)(G,2),q=Q[0],M=Q[1],W=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r,c,l,o,s,i,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api"+"/ClientProfile/".concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 3:if(200===(a=e.sent).status){e.next=6;break}throw a;case 6:return e.next=8,a.json();case 8:(n=e.sent).client&&x(Object(j.a)({},n.client,{rating:n.averageRating})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:return e.prev=15,e.next=18,fetch("http://localhost:5001/api"+"/Job/GetJobByClientId/".concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 18:if(200===(r=e.sent).status){e.next=21;break}throw r;case 21:return e.next=23,r.json();case 23:(c=e.sent).length&&(l=c.map((function(e){return{id:e.jobId,title:e.title,startdate:L.formatDateString(e.startDate),enddate:L.formatDateString(e.endDate),status:e.isComplete?"Complete":"In Progress"}})),J([{Header:"Job Title",accessor:"title"},{Header:"Start Date",accessor:"startdate"},{Header:"End Date",accessor:"enddate"},{Header:"Completion Status",accessor:"status"}]),S(l)),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(15),console.error(e.t1);case 30:return e.prev=30,o="http://localhost:5001/api"+"/Incidents/GetIncidentsByClientId/".concat(t),e.next=34,fetch(o,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 34:if(200===(s=e.sent).status){e.next=37;break}throw s;case 37:return e.next=39,s.json();case 39:(i=e.sent).length&&(m=i.map((function(e){return{id:e.incidentReportId,job:e.jobTitle,date:L.formatDateString(e.incidentReportDate),type:e.incidentType}})),T(m),M([{Header:"Date",accessor:"date"},{Header:"Job",accessor:"job"},{Header:"Incident Type",accessor:"type"}])),e.next=46;break;case 43:e.prev=43,e.t2=e.catch(30),console.error(e.t2);case 46:E(!0);case 47:case"end":return e.stop()}}),e,null,[[0,12],[15,27],[30,43]])})));return function(t){return e.apply(this,arguments)}}(),V=N&&r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Client Profile",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Client Profile"}]}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4 col-lg-12 col-md-12 col-sm-12 col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"font-26 mb-2"},N.clientName)),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Quality Rating"),r.a.createElement(Oe,{rating:N.rating})),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Contact"),r.a.createElement("ul",{className:"list-unstyled icon-list mb-0"},r.a.createElement("li",{className:"mb-2"},r.a.createElement("i",{className:"material-icons"},"phone"),r.a.createElement("span",null,N.clientPhoneNumber)))),N.clientDescription&&r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"About"),r.a.createElement("p",null,N.clientDescription)),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Location"),r.a.createElement("address",{className:"mb-0"},"".concat(N.clientCity,", ").concat(N.clientState))),s&&r.a.createElement("div",{className:"card-body border-top"},r.a.createElement(b.b,{to:"/profile/edit",className:"btn btn-light"},"Edit Profile")))),r.a.createElement("div",{className:"col-xl-8 col-lg-12 col-md-12 col-sm-12 col-12"},m&&r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header"},"Manage Invoices"),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"Invoices table goes here"))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex"},r.a.createElement("h4",{className:"card-header-title"},"Active Jobs"),s&&r.a.createElement("div",{className:"toolbar ml-auto"},r.a.createElement(b.b,{to:"/dashboard",className:"btn btn-primary btn-sm"},"View All"))),r.a.createElement("div",{className:"card-body"},k?r.a.createElement(z,Object.assign({data:k,columns:H,itemsPerPage:5,path:"/job",searchable:!1},e)):r.a.createElement(U,{message:"No jobs to display."}))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex"},r.a.createElement("h4",{className:"card-header-title"},"Incidents"),s&&r.a.createElement("div",{className:"toolbar ml-auto"},r.a.createElement(b.b,{to:"/dashboard",className:"btn btn-primary btn-sm"},"View All"))),r.a.createElement("div",{className:"card-body"},D?r.a.createElement(z,Object.assign({data:D,columns:q,path:"/incident",itemsPerPage:5,searchable:!1},e)):r.a.createElement(U,{message:"No incidents to display."})))))),X=l?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{loaded:h},N?V:r.a.createElement(U,{message:"No profile found."}))):r.a.createElement(me,null);return Object(n.useEffect)((function(){l&&W(a)}),[]),r.a.createElement(B,{content:X})},ke=a(18),Se=a(24),Ce=function(e){var t=e.requiredLabourers,a=e.setRequiredLabourers,c=Object(n.useState)([]),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(),m=Object(y.a)(i,2),u=m[0],d=m[1],b=Object(n.useState)(""),p=Object(y.a)(b,2),h=p[0],E=p[1];Object(n.useEffect)((function(){(function(){var e=Object(A.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:5001/api/Skills/GetAllSkills",e.next=4,fetch("http://localhost:5001/api/Skills/GetAllSkills");case 4:if(200===(t=e.sent).status){e.next=7;break}throw t;case 7:return e.next=9,t.json();case 9:(a=e.sent).length&&s(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var f=function(e){var t=null;return o.forEach((function(a){e!==a.skillName||(t=a.skillId)})),t};return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"labourers"},"Select labourers ",r.a.createElement("span",{className:"text-danger"},"*")),t.length?r.a.createElement("div",{className:"row m-2"},r.a.createElement("table",{className:"table col col-md-6 select-workers-widget"},r.a.createElement("tbody",null,t.map((function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,e.SkillName),r.a.createElement("td",null,e.NumberNeeded," required"),r.a.createElement("td",null,r.a.createElement("span",{onClick:function(){return function(e){if(t.length<=1)a([]);else{var n=t.filter((function(t,a){return a!==e}));a(n)}}(n)},className:"p-2 badge badge-danger",style:{cursor:"pointer"}},"Remove")))}))))):r.a.createElement("p",{className:"pt-1 font-12 text-secondary"},"No labourers added yet."),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col col-md-5 col-lg-4 col-xl-4"},r.a.createElement(ge.a,{options:o.map((function(e,t){return{value:e.skillId,label:e.skillName}})),onChange:function(e){return d(e.label)}})),r.a.createElement("div",{className:"col col-md-5 col-lg-3 col-xl-2"},r.a.createElement("input",{value:h,onKeyPress:function(e){return function(e){(e.keyCode||13===e.which)&&e.preventDefault()}(e)},onChange:function(e){return E(e.target.value)},type:"number",min:"0",max:"999",name:"labourersrequired",placeholder:"# required",className:"form-control form-control-lg"})),r.a.createElement("div",{className:"col col-md-2 col-lg-1"},r.a.createElement("span",{onClick:function(){if(u&&h>0){if(t.length&&-1!=t.findIndex((function(e){return e.SkillName===u}))){var e=t.findIndex((function(e){return e.SkillName===u}));if(e>-1){var n=Object(Se.a)(t);n[e].NumberNeeded=h,a(n)}else a((function(e){return[].concat(Object(Se.a)(e),[{SkillName:u,SkillId:f(u),NumberNeeded:h}])}))}else a((function(e){return[].concat(Object(Se.a)(e),[{SkillName:u,SkillId:f(u),NumberNeeded:h}])}));E("")}},className:"btn btn-light btn-lg"},"Add"))))},Ie=function(e){var t=e.history,a=Object(n.useState)(p.authenticateClient()),c=Object(y.a)(a,1)[0],l=Object(n.useState)(!1),o=Object(y.a)(l,2),s=(o[0],o[1],Object(n.useState)([])),i=Object(y.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)({title:"",startdate:"",enddate:"",jobdescription:"",address:"",province:"",city:"",duration:""}),h=Object(y.a)(d,2),E=h[0],f=h[1],v=E.title,x=E.startdate,O=E.enddate,w=E.jobdescription,k=E.address,S=E.province,C=E.city,I=E.duration,D=Object(n.useState)([]),T=Object(y.a)(D,2),P=T[0],F=T[1],L=function(e){if(e.preventDefault(),f(Object(j.a)({},E,Object(N.a)({},e.target.name,e.target.value))),"enddate"===e.target.name&&x){var t,a,n=ke.convert(x),r=ke.convert(e.target.value);if(r<n)f(Object(j.a)({},E,(t={},Object(N.a)(t,e.target.name,e.target.value),Object(N.a)(t,"duration","Invalid dates entered."),t)));else f(Object(j.a)({},E,(a={},Object(N.a)(a,e.target.name,e.target.value),Object(N.a)(a,"duration",ke.difference(n,r)),a)))}else if("startdate"===e.target.name&&O){var c,l,o=ke.convert(e.target.value),s=ke.convert(x);if(s<o)f(Object(j.a)({},E,(c={},Object(N.a)(c,e.target.name,e.target.value),Object(N.a)(c,"duration","Invalid dates entered."),c)));else f(Object(j.a)({},E,(l={},Object(N.a)(l,e.target.name,e.target.value),Object(N.a)(l,"duration",ke.difference(o,s)),l)))}},H=function(e){var t=0;return P.length&&P.forEach((function(e){e.NumberNeeded&&(t+=parseInt(e.NumberNeeded))})),t},J=function(){var e=Object(A.a)(g.a.mark((function e(){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={ClientId:p.getID(),Title:v,JobDescription:w,StartDate:x,EndDate:O,Street:k,City:C,State:S,InProgress:!0,IsComplete:!1,TotalHired:H()},e.prev=1,e.next=4,fetch("http://localhost:5001/api/job/PostJob",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())},body:JSON.stringify({Job:a,JobSkills:P})});case 4:if(200===(n=e.sent).status){e.next=8;break}throw u(["Failed to post job. Please try again later."]),n;case 8:return e.next=10,n.json();case 10:(r=e.sent)&&t.push("/job/"+r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),R=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Add Job",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Add Job"}]}),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},m.length>0&&r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("ul",{className:"pl-3 mb-0"},m.map((function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement("form",{className:"client-add-job-form"},r.a.createElement("div",{className:"form-group mb-4"},r.a.createElement("label",{htmlFor:"title"},"Job Title ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,maxLength:"60",name:"title",type:"text",placeholder:"Enter job title",className:"form-control form-control-lg",onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-row mb-4"},r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"startdate"},"Start Date ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,name:"startdate",type:"date",className:"form-control form-control-lg",onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"enddate"},"End Date ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,name:"enddate",type:"date",className:"form-control form-control-lg",onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"duration"},"Duration"),r.a.createElement("input",{readOnly:"readonly",value:I,type:"text",name:"duration",className:"form-control form-control-lg"}))),r.a.createElement("div",{className:"form-group mb-4"},r.a.createElement("label",{htmlFor:"description"},"Job Description"),r.a.createElement("textarea",{maxLength:"400",name:"jobdescription",type:"text",placeholder:"Enter job description",rows:"3",className:"form-control form-control-lg",onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-row mb-4"},r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"address"},"Address ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,maxLength:"50",name:"address",type:"text",placeholder:"Enter address",className:"form-control form-control-lg",onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"city"},"City ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,maxLength:"30",name:"city",type:"text",placeholder:"Enter city",className:"form-control form-control-lg",onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"province"},"Province ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(ge.a,{options:Ae,onChange:function(e){return function(e){f(Object(j.a)({},E,{province:e.label}))}(e)},required:!0}))),r.a.createElement(Ce,{requiredLabourers:P,setRequiredLabourers:F}),r.a.createElement("div",{className:"form-group row text-right mt-4"},r.a.createElement("div",{className:"col col-lg-12"},r.a.createElement(b.b,{to:"/dashboard",className:"btn btn-space btn-light btn-lg"},"Cancel"),r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=[];ke.convert(x)<Date.now()&&(function(e){var t=new Date;return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getYear()==t.getYear()}(ke.convert(x))||t.push("Invalid start date entered. Start date must be future date, or on the same day.")),ke.convert(O)<ke.convert(x)&&t.push("Invalid end date entered. End date must be after the start date, or on the same day."),P.length||t.push("Labourers are required."),""===S&&t.push("Province is required."),t.length?u(t):J()},className:"btn btn-space btn-primary btn-lg"},"Create New Job")))))));return r.a.createElement(B,{content:c?R:r.a.createElement(me,null)})},De=function(e){var t=Object(n.useState)([]),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({title:"",startdate:"",enddate:"",jobdescription:"",address:"",province:"",city:"",duration:""}),s=Object(y.a)(o,2),i=s[0],m=s[1],u=i.title,d=(i.startdate,i.enddate,i.description),h=i.address,E=i.province,f=i.city,v=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api/job/getJob/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,m({clientId:n.clientId,title:n.title,description:n.jobDescription,address:n.street,city:n.city}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){e.preventDefault(),m(Object(j.a)({},i,Object(N.a)({},e.target.name,e.target.value)))},O=function(){var t=Object(A.a)(g.a.mark((function t(){var a,n,r,c,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=p.getToken(),n={ClientId:i.clientId,Title:u,JobDescription:d,Street:h,City:f,State:E},p.getID()==n.ClientId){t.next=8;break}console.log(p.getID()),console.log(n.ClientId),l(["Failed to edit job. You are not allowed to edit the job."]),t.next=25;break;case 8:return t.prev=8,r="http://localhost:5001/api/job/PutJob/"+e.match.params.id,t.next=12,fetch(r,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});case 12:if(200===(c=t.sent).status){t.next=16;break}throw l(["Failed to edit job. Please try again later."]),c;case 16:return t.next=18,c.json();case 18:(o=t.sent)&&e.history.push("/job/"+o),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),console.error(t.t0);case 25:case"end":return t.stop()}}),t,null,[[8,22]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){e.match.params.id&&Number.isInteger(Number(e.match.params.id))&&v(e.match.params.id)}),[e.match.params.id]),r.a.createElement("div",{className:"dashboard-main-wrapper"},r.a.createElement(T,null),r.a.createElement(P,null),r.a.createElement("div",{className:"dashboard-wrapper"},r.a.createElement("div",{className:"container-fluid dashboard-content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},r.a.createElement("div",{className:"page-header"},r.a.createElement("h2",{className:"pageheader-title"},"Update Job"),r.a.createElement("div",{className:"page-breadcrumb"},r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"/dashboard",className:"breadcrumb-link"},"Dashboard")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},"Update Job"))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},c.length>0&&r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("ul",{className:"pl-3 mb-0"},c.map((function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement("form",{className:"client-add-job-form"},r.a.createElement("div",{className:"form-group mb-4"},r.a.createElement("label",{htmlFor:"title"},"Job Title ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,name:"title",type:"text",value:u,placeholder:"Enter job title",className:"form-control form-control-lg",onChange:function(e){return x(e)}})),r.a.createElement("div",{className:"form-group mb-4"},r.a.createElement("label",{htmlFor:"description"},"Job Description"),r.a.createElement("textarea",{name:"description",type:"text",value:d,placeholder:"Enter job description",rows:"3",className:"form-control form-control-lg",onChange:function(e){return x(e)}})),r.a.createElement("div",{className:"form-row mb-4"},r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"address"},"Address ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,name:"address",type:"text",value:h,placeholder:"Enter address",className:"form-control form-control-lg",onChange:function(e){return x(e)}})),r.a.createElement("div",{className:"form-group col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"province"},"Province ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(ge.a,{required:!0,name:"province",options:Ae,onChange:function(e){return function(e){m(Object(j.a)({},i,{province:e.label}))}(e)}})),r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"city"},"City ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,maxLength:"30",name:"city",type:"text",value:f,placeholder:"Enter city",className:"form-control form-control-lg",onChange:function(e){return x(e)}}))),r.a.createElement("div",{className:"form-group row text-right mt-4"},r.a.createElement("div",{className:"col col-lg-12"},r.a.createElement(b.b,{to:"/dashboard",className:"btn btn-space btn-light btn-lg"},"Cancel"),r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=[];""===E&&t.push("Province is required."),t.length?l(t):O()},className:"btn btn-space btn-primary btn-lg"},"Save Changes")))))))))},Te=function(e){var t=e.message;return r.a.createElement("div",{className:"alert alert-success mb-4"},r.a.createElement("span",{className:"font-18"},t))},Pe=function(e){var t=Object(n.useState)(p.authenticateAdmin()||p.authenticateClient()),a=Object(y.a)(t,1)[0],c=Object(n.useState)({id:e.match.params.id&&Object(_.isWholeNumber)(e.match.params.id)?e.match.params.id:null,date:e.match.params.date?e.match.params.date+"T00:00:00":null}),l=Object(y.a)(c,1)[0],o=Object(n.useState)(),s=Object(y.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(!1),d=Object(y.a)(u,2),b=d[0],h=d[1],E=Object(n.useState)(),f=Object(y.a)(E,2),v=f[0],N=f[1],j=Object(n.useState)(),x=Object(y.a)(j,2),O=x[0],w=x[1],k=Object(n.useState)("Job Detail"),S=Object(y.a)(k,2),C=S[0],I=S[1],D=Object(n.useState)(),T=Object(y.a)(D,2),P=T[0],F=T[1],H=function(){var t=Object(A.a)(g.a.mark((function t(a,n){var c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"http://localhost:5001/api/LabourerAttendance",t.next=4,fetch("http://localhost:5001/api/LabourerAttendance",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())},body:JSON.stringify({JobId:e.match.params.id,LabourerId:n,DailyQualityRating:a,Date:e.match.params.date+"T00:00:00"})});case 4:if(200===(c=t.sent).status){t.next=10;break}throw N(r.a.createElement(U,{message:"Error: Could not update rating."})),c;case 10:w(r.a.createElement(Te,{message:"Successfully updated rating."})),setTimeout((function(){return w()}),2e3),N(null);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,a){return t.apply(this,arguments)}}(),J=function(){var e=Object(A.a)(g.a.mark((function e(t,a){var n,r,c,l,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="http://localhost:5001/api"+"/LabourerAttendance/data?jobId=".concat(t,"&date=").concat(a),e.next=4,fetch(n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(r=e.sent).status){e.next=7;break}throw r;case 7:return e.next=9,r.json();case 9:(c=e.sent).length&&(l=c[0].job.clientId,p.authenticateClient()&&p.getID()==l&&m(!0),o=c.map((function(e){return{name:"".concat(e.labourer.labourerFirstName," ").concat(e.labourer.labourerLastName),rating:e.dailyQualityRating,labourerId:e.labourer.labourerId,clientId:e.job.clientId}})),F(o),I(c[0].job.title)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:h(!0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){l.id&&l.date?J(l.id,l.date):h(!0)}),[]);var G=(i||p.authenticateAdmin())&&r.a.createElement(R,{loaded:b},P?r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Labourer Attendance for ".concat(L.formatDateString(l.date)),breadcrumbs:[{name:"Home",path:"/dashboard"},{name:C,path:"/job/".concat(l.id)},{name:"Labourer Attendance"}]}),v&&v,O&&O,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},P&&r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Labourer Name"),r.a.createElement("th",null,"Quality Rating"))),r.a.createElement("tbody",null,P.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement(be,{changeRating:H,rating:e.rating,clientId:e.clientId,labourerId:e.labourerId})))}))))))):r.a.createElement(U,{message:"Error: Could not fetch data."}));return r.a.createElement(B,{content:a?G:r.a.createElement(me,null)})},Fe=function(e){var t=Object(n.useState)(p.authenticateClient()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!1),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)([]),m=Object(y.a)(i,2),u=m[0],d=m[1],b=Object(n.useState)(),h=Object(y.a)(b,2),E=h[0],f=h[1],v=Object(n.useState)(),N=Object(y.a)(v,2),j=(N[0],N[1],Object(n.useState)()),x=Object(y.a)(j,2),w=x[0],k=x[1],S=Object(n.useState)(),C=Object(y.a)(S,2),I=C[0],D=C[1],T=Object(n.useState)(),P=Object(y.a)(T,2),F=P[0],H=P[1],J=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://localhost:5001/api"+"/Job/GetJobByClientId/".concat(p.getID()),e.next=4,fetch(t,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(a=e.sent).status){e.next=7;break}throw a;case 7:return e.next=9,a.json();case 9:(n=e.sent).length&&f(n.map((function(e){return{label:e.title,value:e.jobId}}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://localhost:5001/api"+"/ClientInvoice/".concat(t),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent).length?k(r.map((function(e){var t=L.formatDateString(e.firstDay),a=L.formatDateString(e.lastDay);return{label:"".concat(t," - ").concat(a),value:"",JobId:e.jobId,StartDay:L.formatDateParams(e.firstDay),EndDay:L.formatDateParams(e.lastDay)}}))):H(null),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a&&(J(),s(!0))}),[]);var Q=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Invoices",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Invoices"}]}),r.a.createElement(R,{loaded:o},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header"},"Generate an Invoice"),r.a.createElement("div",{className:"card-body"},u.length>0&&r.a.createElement(O,{errors:u}),r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),function(e){var t=[];return I||t.push("No job has been selected."),F||t.push("No billing week has been selected."),!t.length||(d(t),!1)}()){var a=F.JobId,n=F.StartDay,r=F.EndDay;e.history.push("/invoice/".concat(a,"/").concat(n,"/").concat(r))}}},r.a.createElement("label",{htmlFor:"job"},"Select Job"),r.a.createElement(ge.a,{required:!0,name:"job",options:E,onChange:function(e){e&&(D(e.value),G(e.value))},className:"mb-3"}),r.a.createElement("label",{htmlFor:"job"},"Select Billing Week"),r.a.createElement(ge.a,{required:!0,value:F,name:"week",options:w,onChange:function(e){e&&H(e)},isDisabled:!I,className:"mb-3"}),r.a.createElement("button",{className:"btn btn-primary btn-lg mt-3 float-right"},"Generate"))))))));return r.a.createElement(B,{content:a?Q:r.a.createElement(me,null)})},Be=function(e){return Object(n.useEffect)((function(){e.fetchLabourers(e.selectedJob)}),[]),r.a.createElement(ge.a,{required:!0,name:"injuredLabourers",options:e.labourerList&&e.labourerList.map((function(e){return{value:e.labourerId,label:e.labourerFirstName+" "+e.labourerLastName}})),onChange:function(t){t&&t.forEach((function(t){return e.setselectedLabourers([].concat(Object(Se.a)(e.selectedLabourers),[{labourerId:t.value}]))}))},isMulti:!0})},Le=function(e){var t=e.history,a=Object(n.useState)(p.authenticateClient()),c=Object(y.a)(a,1)[0],l=Object(n.useState)([]),o=Object(y.a)(l,2),s=o[0],i=o[1],m=Object(n.useState)([]),u=Object(y.a)(m,2),d=u[0],h=u[1],E=Object(n.useState)([]),f=Object(y.a)(E,2),v=f[0],w=f[1],k=Object(n.useState)([]),S=Object(y.a)(k,2),C=S[0],I=S[1],D=Object(n.useState)(),T=Object(y.a)(D,2),P=T[0],F=T[1],L=Object(n.useState)(),H=Object(y.a)(L,2),J=H[0],R=H[1],G=Object(n.useState)([]),Q=Object(y.a)(G,2),q=Q[0],M=Q[1],z=Object(n.useState)(),U=Object(y.a)(z,2),W=U[0],V=U[1],X=Object(n.useState)(),Y=Object(y.a)(X,2),Z=Y[0],_=Y[1],$=Object(n.useState)({incidentdate:"",incidentsummary:""}),ee=Object(y.a)($,2),te=ee[0],ae=ee[1],ne=te.incidentdate,re=te.incidentsummary,ce=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api"+"/Job/GetJobByClientId/".concat(p.getID()),{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 3:if(200===(t=e.sent).status){e.next=6;break}throw t;case 6:return e.next=8,t.json();case 8:(a=e.sent).length&&i(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=11;break}return a="http://localhost:5001/api"+"/JobLabourers/".concat(t),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent).length&&h(r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:5001/api/IncidentType",e.next=4,fetch("http://localhost:5001/api/IncidentType");case 4:return t=e.sent,e.next=7,t.json();case 7:if(a=e.sent,200===t.status){e.next=10;break}throw t;case 10:a.length&&w(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),se=function(e){ae(Object(j.a)({},te,Object(N.a)({},e.target.name,e.target.value)))},ie=function(){var e=Object(A.a)(g.a.mark((function e(){var a,n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.getToken(),n={IncidentTypeId:J,IncidentReportDate:ne,IncidentReportDescription:re,JobId:P,AdminNotified:!1},e.prev=2,e.next=5,fetch("http://localhost:5001/api/incidents/PostIncident",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({IncidentReport:n,LabourerReports:q})});case 5:if(200===(r=e.sent).status){e.next=8;break}throw r;case 8:return e.next=10,r.json();case 10:(c=e.sent)?t.push("/incident/".concat(c)):I(["Failed to create incident. Please try again later."]),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){c&&(ce(),oe())}),[]);var ue=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Add Incident",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Incidents",path:"/incidents"},{name:"Add Incident"}]}),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"client-add-incident-form"},r.a.createElement("div",null,C.length>0&&r.a.createElement(O,{errors:C})),r.a.createElement("div",{className:"form-row mb-4"},r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"incidentdate"},"Date Of Incident",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{required:!0,name:"incidentdate",type:"date",className:"form-control form-control-lg",onChange:function(e){return se(e)}})),r.a.createElement("div",{className:" col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{className:"d-block",htmlFor:"incidentType"},"Select incident type",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(ge.a,{required:!0,name:"incidenttype",options:v&&v.map((function(e){return{value:e.incidentTypeId,label:e.incidentTypeName}})),onChange:function(e){e&&R(e.value)}}))),r.a.createElement("div",{className:"form-row mb-4"},r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{className:"d-block",htmlFor:"job"},"Select Job",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(ge.a,{required:!0,name:"job",options:s&&s.map((function(e){return{value:e.jobId,label:e.title,startDate:e.startDate,endDate:e.endDate}})),onChange:function(e){e&&(F(e.value),V(e.startDate),_(e.endDate),le(e.value))}})),r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{className:"d-block",htmlFor:"injuredLabourers"},"Labourers Affected",r.a.createElement("span",{className:"text-danger"},"*")),P?r.a.createElement(Be,{selectedJob:P,selectedLabourers:q,setselectedLabourers:M,labourerList:d,fetchLabourers:le}):r.a.createElement("input",{placeholder:"Select...",className:"form-control form-control-lg",disabled:!0}))),r.a.createElement("div",{className:"form-group mb-4"},r.a.createElement("label",{htmlFor:"incidentsummary"},"Summary of Incident",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("textarea",{name:"incidentsummary",type:"text",placeholder:"Enter incident summary",rows:"3",className:"form-control form-control-lg",onChange:function(e){return se(e)}})),r.a.createElement("div",{className:"form-group row text-right mt-4"},r.a.createElement("div",{className:"col col-lg-12"},r.a.createElement(b.b,{to:"/dashboard",className:"btn btn-space btn-light btn-lg"},"Cancel"),r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=[];if(x.date(ne)||null!==ne||""!==ne||t.push("Invalid date entered."),P&&ne&&""!==ne){var a=new Date(W),n=new Date(Z),r=new Date(ne);r.setDate(r.getDate()+1),r.setHours(0,0,0,0),r<a&&t.push("Date of incident cannot be before the job start date."),r>n&&t.push("Date of incident cannot be after the job end date.")}if(ne&&""!==ne){var c=new Date,l=new Date(ne);l.setDate(l.getDate()+1),l.setHours(0,0,0,0),l>c&&t.push("Date of incident cannot be in the future.")}J||t.push("Incident type is required."),P||t.push("You must select the job where the incident occured."),q.length||t.push("You must select at least one labourer that was involved in the incident."),re&&""!==re||t.push("Incident summary is required."),t.length?I(t):ie()},className:"btn btn-space btn-primary btn-lg"},"Create New Incident")))))));return r.a.createElement(B,{content:c?ue:r.a.createElement(me,null)})},He=function(e){var t=e.history,a=Object(n.useState)([]),c=Object(y.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)([]),i=Object(y.a)(s,2),m=i[0],u=i[1],h=Object(n.useState)({firstname:"",lastname:"",email:"",password:"",confirmpassword:""}),E=Object(y.a)(h,2),f=E[0],v=E[1],w=Object(n.useState)([]),k=Object(y.a)(w,2),S=k[0],C=k[1],I=f.firstname,D=f.lastname,T=f.email,P=f.password,F=f.confirmpassword,B=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:5001/api/Skills/GetAllSkills",e.next=4,fetch("http://localhost:5001/api/Skills/GetAllSkills");case 4:if(200===(t=e.sent).status){e.next=7;break}throw t;case 7:return e.next=9,t.json();case 9:(a=e.sent).length&&u(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),L=function(e){e.preventDefault(),v(Object(j.a)({},f,Object(N.a)({},e.target.name,e.target.value)))},H=function(){var e=Object(A.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api/RegisterLabourer",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({User:{email:T,password:P},Labourer:{LabourerFirstName:I,LabourerLastName:D},Skills:S})});case 3:if(200===(a=e.sent).status){e.next=7;break}throw o(["Registration failed. Please try again later."]),a;case 7:return e.next=9,a.json();case 9:(n=e.sent).token&&""!==n.token?p.setSessionData(n,t):o(["Registration failed. Please try again later."]),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),o(["Registration failed. Please try again later."]);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){B()}),[]),p.authenticateUser()?r.a.createElement(d.a,{to:{pathname:"/dashboard"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"splash-container-wrapper"},r.a.createElement("form",{className:"splash-container",onSubmit:function(e){return function(e){e.preventDefault();var t=[];x.name(I)||t.push("Invalid first name entered."),x.name(D)||(console.log(D),t.push("Invalid last name entered.")),x.email(T)||t.push("Invalid email entered."),P===F?x.password(P)||t.push("Password must contain at least 8 characters, and each of the following: one uppercase letter, one lowercase letter, one number, and one symbol."):t.push("Passwords do not match."),S.length||t.push("You must select at least one skill."),t.length?o(t):H()}(e)}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"mb-1"},"Create Labourer Account"),r.a.createElement("p",null,"Enter your user information.")),r.a.createElement("div",{className:"card-body"},l.length>0&&r.a.createElement(O,{errors:l}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstname"},"First Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{autoFocus:!0,className:"form-control form-control-lg",name:"firstname",type:"text",placeholder:"Enter first name",required:!0,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastname"},"Last Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control form-control-lg",name:"lastname",type:"text",placeholder:"Enter last name",required:!0,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email Address ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control form-control-lg",name:"email",type:"email",placeholder:"Enter email address",required:!0,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control form-control-lg",name:"password",type:"password",placeholder:"Enter password",required:!0,onChange:function(e){return L(e)}}),r.a.createElement("small",{className:"form-text text-muted"},"Password should be a minimum of 8 characters and contain at least one uppercase letter, lowercase letter, number, and symbol.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"confirmpassword"},"Confirm Password ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control form-control-lg",name:"confirmpassword",type:"password",placeholder:"Enter password again",required:!0,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-block",htmlFor:"skills"},"Select Skills ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(ge.a,{options:m&&m.map((function(e){return{value:e.skillId,label:e.skillName}})),onChange:function(e){if(e){var t=[];e.forEach((function(e){return t.push(e.value)})),C(t)}else C([])},isMulti:!0})),r.a.createElement("div",{className:"form-group pt-2"},r.a.createElement("button",{className:"btn btn-block btn-primary btn-lg",type:"submit"},"Create Account"))),r.a.createElement("div",{className:"card-footer bg-white"},r.a.createElement("p",null,"Already have an account? ",r.a.createElement(b.b,{to:"/login",className:"text-primary"},"Login here.")))))))},Je=function(e){var t=e.header,a=e.data;return r.a.createElement("table",{className:"table table-bordered table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,t))),r.a.createElement("tbody",null,a.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e))}))))},Re=function(e){var t=e.status,a=t?"Available":"Unavailable",n=t?"success":"danger";return r.a.createElement("p",{className:"font-18 bg-".concat(n,"-light d-inline-block p-2 rounded text-").concat(n)},a)},Ge=function(e){var t=e.labourerId,a=e.onLeave,c=Object(n.useState)(a),l=Object(y.a)(c,2),o=l[0],s=l[1],i=function(){var e=Object(A.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:5001/api/LabourerProfile",e.next=4,fetch("http://localhost:5001/api/LabourerProfile",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(p.getToken())},body:JSON.stringify({LabourerId:t,OnLeave:a})});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:e.sent&&s(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"mr-2"},"I do not want to be assigned to any new jobs."),r.a.createElement(se.a,{size:"2",tickSize:"2",color:"#ef172c",onChange:i,checked:o}))},Qe=function(e){var t=Object(n.useState)(e.match.params.id&&Object(_.isWholeNumber)(e.match.params.id)?e.match.params.id:null),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!(!p.authenticateLabourer()||p.getID()!==a)||!!p.authenticateAdmin()),l=Object(y.a)(c,1)[0],o=Object(n.useState)(p.authenticateLabourer()),s=Object(y.a)(o,1)[0],i=Object(n.useState)(),m=Object(y.a)(i,2),u=m[0],d=m[1],h=Object(n.useState)(),E=Object(y.a)(h,2),f=E[0],v=E[1],N=Object(n.useState)(),x=Object(y.a)(N,2),O=x[0],w=x[1],k=Object(n.useState)(),S=Object(y.a)(k,2),C=S[0],I=S[1],D=Object(n.useState)(),T=Object(y.a)(D,2),P=T[0],F=T[1],H=Object(n.useState)(),J=Object(y.a)(H,2),G=J[0],Q=J[1],q=Object(n.useState)(),M=Object(y.a)(q,2),W=M[0],V=M[1],X=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r,c,l,o,s,i,m,u,b,h,E,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://localhost:5001/api"+"/LabourerProfile/".concat(t),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent)&&v(Object(j.a)({},r.labourer,{qualityRating:r.averageQuality,safetyRating:r.averageSafety})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:return e.prev=16,c="http://localhost:5001/api"+"/Skills/GetSkillNamesByLabourerId/".concat(t),e.next=20,fetch(c,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 20:if(200===(l=e.sent).status){e.next=23;break}throw l;case 23:return e.next=25,l.json();case 25:(o=e.sent).length&&w(o),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(16),console.error(e.t1);case 32:return e.prev=32,s="http://localhost:5001/api"+"/Job/GetJobByLabourerId/".concat(t),e.next=36,fetch(s,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 36:if(200===(i=e.sent).status){e.next=39;break}throw i;case 39:return e.next=41,i.json();case 41:(m=e.sent).length&&(u=m.map((function(e){return{id:e.jobId,title:e.title,startdate:L.formatDateString(e.startDate),enddate:L.formatDateString(e.endDate),status:e.isComplete?"Complete":"In Progress"}})),Q([{Header:"Job Title",accessor:"title"},{Header:"Start Date",accessor:"startdate"},{Header:"End Date",accessor:"enddate"},{Header:"Completion Status",accessor:"status"}]),I(u)),e.next=48;break;case 45:e.prev=45,e.t2=e.catch(32),console.error(e.t2);case 48:return e.prev=48,b="http://localhost:5001/api"+"/Incidents/GetIncidentsByLabourerId/".concat(t),e.next=52,fetch(b,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 52:if(200===(h=e.sent).status){e.next=55;break}throw h;case 55:return e.next=57,h.json();case 57:(E=e.sent).length&&(f=E.map((function(e){return{id:e.incidentReportId,job:e.jobTitle,date:L.formatDateString(e.incidentReportDate),type:e.incidentType}})),F(f),V([{Header:"Date",accessor:"date"},{Header:"Job",accessor:"job"},{Header:"Incident Type",accessor:"type"}])),e.next=64;break;case 61:e.prev=61,e.t3=e.catch(48),console.error(e.t3);case 64:d(!0);case 65:case"end":return e.stop()}}),e,null,[[0,13],[16,29],[32,45],[48,61]])})));return function(t){return e.apply(this,arguments)}}(),Y=f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Labourer Profile",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Labourer Profile"}]}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4 col-lg-12 col-md-12 col-sm-12 col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"font-26 mb-2"},"".concat(f.labourerFirstName," ").concat(f.labourerLastName))),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Status"),r.a.createElement(Re,{status:f.isAvailable})),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Quality Rating"),r.a.createElement(Oe,{rating:f.qualityRating})),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Safety Rating"),r.a.createElement(Oe,{rating:f.safetyRating})),r.a.createElement("div",{className:"card-body border-top"},r.a.createElement("h3",{className:"font-16"},"Contact Information"),r.a.createElement("ul",{className:"list-unstyled icon-list mb-0"},r.a.createElement("li",{className:"mb-2"},r.a.createElement("i",{className:"material-icons"},"email"),r.a.createElement("span",null,r.a.createElement("a",{href:"mailto:".concat(f.labourerEmail)},f.labourerEmail))))),s&&r.a.createElement("div",{className:"card-body border-top"},r.a.createElement(b.b,{to:"/profile/edit",className:"btn btn-light"},"Edit Profile")))),r.a.createElement("div",{className:"col-xl-8 col-lg-12 col-md-12 col-sm-12 col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex"},r.a.createElement("h4",{className:"card-header-title"},"Skills"),s&&r.a.createElement("div",{className:"toolbar ml-auto"},r.a.createElement(b.b,{to:"/profile/edit",className:"btn btn-light btn-sm"},"Edit"))),r.a.createElement("div",{className:"card-body"},O?r.a.createElement(Je,{data:O,header:"Name"}):r.a.createElement(U,{message:"No skills found."}))),s&&r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header"},"Availability"),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"Check the box below if you ",r.a.createElement("strong",null,"do not")," want to accept or be assigned to any new jobs."),r.a.createElement(Ge,{labourerId:f.labourerId,onLeave:f.onLeave}))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex"},r.a.createElement("h4",{className:"card-header-title"},"Active Jobs"),s&&r.a.createElement("div",{className:"toolbar ml-auto"},r.a.createElement(b.b,{to:"/dashboard",className:"btn btn-primary btn-sm"},"View All"))),r.a.createElement("div",{className:"card-body"},C?r.a.createElement(z,Object.assign({data:C,columns:G,itemsPerPage:5,path:"/job"},e)):r.a.createElement(U,{message:"No jobs to display."}))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex"},r.a.createElement("h4",{className:"card-header-title"},"Incident Reports"),s&&r.a.createElement("div",{className:"toolbar ml-auto"},r.a.createElement(b.b,{to:"/incidents",className:"btn btn-primary btn-sm"},"View All"))),r.a.createElement("div",{className:"card-body"},P?r.a.createElement(z,Object.assign({data:P,columns:W,path:"/incident",itemsPerPage:5,searchable:!1},e)):r.a.createElement(U,{message:"No incidents to display."})))))),Z=r.a.createElement(R,{loaded:u},f?Y:r.a.createElement(U,{message:"No profile found."}));return Object(n.useEffect)((function(){l&&X(a)}),[]),r.a.createElement(B,{content:l?Z:r.a.createElement(me,null)})},qe=function(e){var t=Object(n.useState)(p.authenticateAdmin()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!1),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(),m=Object(y.a)(i,2),u=m[0],d=m[1],b=Object(n.useState)(),h=Object(y.a)(b,2),E=h[0],f=h[1],v=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:5001/api/Job/GetAllJobs",e.next=4,fetch("http://localhost:5001/api/Job/GetAllJobs",{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(t=e.sent).status){e.next=7;break}throw t;case 7:return e.next=9,t.json();case 9:(a=e.sent).length&&(n=a.map((function(e){return{id:e.jobId,title:e.title,startdate:L.formatDateString(e.startDate),enddate:L.formatDateString(e.endDate),status:e.isComplete?"Complete":"In Progress"}})),d(n),f([{Header:"Job Title",accessor:"title"},{Header:"Start Date",accessor:"startdate"},{Header:"End Date",accessor:"enddate"},{Header:"Completion Status",accessor:"status"}])),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:s(!0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a?v():s(!0)}),[]);var N=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Manage Jobs",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Jobs"}]}),r.a.createElement(R,{loaded:o},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header"},"All Jobs"),r.a.createElement("div",{className:"card-body"},u?r.a.createElement(z,Object.assign({data:u,columns:E,path:"/job",searchable:!0,striped:!0},e)):r.a.createElement(U,{message:"No jobs to display."})))))));return r.a.createElement(B,{content:a?N:r.a.createElement(me,null)})},Me=function(e){var t=Object(n.useState)(p.authenticateAdmin()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!1),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(),m=Object(y.a)(i,2),u=m[0],d=m[1],b=Object(n.useState)(),h=Object(y.a)(b,2),E=h[0],f=h[1],v=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:5001/api/ClientProfile",e.next=4,fetch("http://localhost:5001/api/ClientProfile",{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(t=e.sent).status){e.next=7;break}throw t;case 7:return e.next=9,t.json();case 9:(a=e.sent).length&&(n=a.map((function(e){return{id:e.clientId,name:e.clientName,email:e.clientEmail,phone:e.clientPhoneNumber,location:"".concat(e.clientCity,", ").concat(e.clientState)}})),d(n),f([{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Phone",accessor:"phone"},{Header:"Location",accessor:"location"}])),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:s(!0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a&&v()}),[]);var N=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Manage Clients",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Clients"}]}),r.a.createElement(R,{loaded:o},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header"},"All Clients"),r.a.createElement("div",{className:"card-body"},u?r.a.createElement(z,Object.assign({data:u,columns:E,path:"/profile/client",searchable:!0},e)):r.a.createElement(U,{message:"No clients to display."})))))));return r.a.createElement(B,{content:a?N:r.a.createElement(me,null)})},ze=function(e){var t=Object(n.useState)(p.authenticateAdmin()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!1),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(),m=Object(y.a)(i,2),u=m[0],d=m[1],b=Object(n.useState)(),h=Object(y.a)(b,2),E=h[0],f=h[1],v=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api/LabourerProfile",{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 3:if(200===(t=e.sent).status){e.next=6;break}throw t;case 6:return e.next=8,t.json();case 8:(a=e.sent)&&a.length&&(n=a.map((function(e){return{id:e.labourerId,name:"".concat(e.labourerFirstName," ").concat(e.labourerLastName),email:e.labourerEmail,availability:e.isAvailable?"Yes":"No"}})),d(n),f([{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Is Available",accessor:"availability"}])),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:s(!0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a&&v()}),[]);var N=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Manage Labourers",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Labourers"}]}),r.a.createElement(R,{loaded:o},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header"},"All Labourers"),r.a.createElement("div",{className:"card-body"},u?r.a.createElement(z,Object.assign({data:u,columns:E,path:"/profile/labourer",searchable:!0},e)):r.a.createElement(U,{message:"No labourers to display."})))))));return r.a.createElement(B,{content:a?N:r.a.createElement(me,null)})},Ke=function(e){var t=Object(n.useState)(p.authenticateAdmin()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!1),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(),m=Object(y.a)(i,2),u=m[0],d=m[1],b=Object(n.useState)(),h=Object(y.a)(b,2),E=h[0],f=h[1],v=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001/api/Incidents/GetAllIncidents",{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 3:if(200===(t=e.sent).status){e.next=6;break}throw t;case 6:return e.next=8,t.json();case 8:(a=e.sent).length&&(n=a.map((function(e){return{id:e.incidentReportId,job:e.job.title,date:L.formatDateString(e.incidentReportDate),type:e.incidentType.incidentTypeName,affected:"".concat(e.labourerIncidentReport.length," labourer(s)")}})),f([{Header:"Date",accessor:"date"},{Header:"Job Title",accessor:"job"},{Header:"Incident Type",accessor:"type"},{Header:"# affected",accessor:"affected"}]),d(n)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:s(!0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a&&v()}),[]);var N=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Manage Incidents",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Incidents"}]}),r.a.createElement(R,{loaded:o},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header"},"Incidents"),r.a.createElement("div",{className:"card-body"},u?r.a.createElement(z,Object.assign({data:u,columns:E,path:"/incident",searchable:!0},e)):r.a.createElement(U,{message:"No incidents to display."})))))));return r.a.createElement(B,{content:a?N:r.a.createElement(me,null)})},Ue=function(e){var t=Object(n.useState)(p.authenticateAdmin()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!1),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)([]),m=Object(y.a)(i,2),u=m[0],d=m[1],b=Object(n.useState)(),h=Object(y.a)(b,2),E=h[0],f=h[1],v=Object(n.useState)(),N=Object(y.a)(v,2),j=N[0],x=N[1],w=Object(n.useState)(),k=Object(y.a)(w,2),S=k[0],C=k[1],I=Object(n.useState)(),D=Object(y.a)(I,2),T=D[0],P=D[1],F=Object(n.useState)(),H=Object(y.a)(F,2),J=H[0],G=H[1],Q=Object(n.useState)(),q=Object(y.a)(Q,2),M=q[0],z=q[1],U=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:5001/api/ClientProfile",e.next=4,fetch("http://localhost:5001/api/ClientProfile",{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(t=e.sent).status){e.next=7;break}throw t;case 7:return e.next=9,t.json();case 9:(a=e.sent).length?f(a.map((function(e){return{label:e.clientName,value:e.clientId}}))):G(null),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://localhost:5001/api"+"/Job/GetJobByClientId/".concat(t),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent).length?x(r.map((function(e){return{label:e.title,value:e.jobId}}))):z(null),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://localhost:5001/api"+"/ClientInvoice/".concat(t),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent).length&&C(r.map((function(e){var t=L.formatDateString(e.firstDay),a=L.formatDateString(e.lastDay);return{label:"".concat(t," - ").concat(a),value:"",JobId:e.jobId,StartDay:L.formatDateParams(e.firstDay),EndDay:L.formatDateParams(e.lastDay)}}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){U(),s(!0)}),[]);var X=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Manage Invoices",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Invoices"}]}),r.a.createElement(R,{loaded:o},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header"},"Generate an Invoice"),r.a.createElement("div",{className:"card-body"},u.length>0&&r.a.createElement(O,{errors:u}),r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),function(e){var t=[];return T||t.push("No client has been selected."),J||t.push("No job has been selected."),M||t.push("No billing week has been selected."),!t.length||(d(t),!1)}()){var a=M.JobId,n=M.StartDay,r=M.EndDay;e.history.push("/invoice/".concat(a,"/").concat(n,"/").concat(r))}}},r.a.createElement("label",{htmlFor:"client"},"Select Client"),r.a.createElement(ge.a,{required:!0,name:"client",options:E,onChange:function(e){e&&(P(e.value),W(e.value))},className:"mb-3"}),r.a.createElement("label",{htmlFor:"job"},"Select Job"),r.a.createElement(ge.a,{required:!0,name:"job",options:j,onChange:function(e){e&&(G(e.value),V(e.value))},isDisabled:!T,className:"mb-3"}),r.a.createElement("label",{htmlFor:"job"},"Select Billing Week"),r.a.createElement(ge.a,{required:!0,name:"week",options:S,onChange:function(e){e&&z(e)},isDisabled:!J,className:"mb-3"}),r.a.createElement("button",{className:"btn btn-primary btn-lg mt-3 float-right"},"Generate"))))))));return r.a.createElement(B,{content:a?X:r.a.createElement(me,null)})},We=function(e){var t=Object(n.useState)(p.authenticateAdmin()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!1),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)([]),m=Object(y.a)(i,2),u=m[0],d=m[1],b=Object(n.useState)(),h=Object(y.a)(b,2),E=h[0],f=h[1],v=Object(n.useState)(),N=Object(y.a)(v,2),j=N[0],x=N[1],w=Object(n.useState)(),k=Object(y.a)(w,2),S=k[0],C=k[1],I=Object(n.useState)(),D=Object(y.a)(I,2),T=D[0],P=D[1],F=Object(n.useState)(),H=Object(y.a)(F,2),J=H[0],G=H[1],Q=Object(n.useState)(),q=Object(y.a)(Q,2),M=q[0],z=q[1],U=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:5001/api/ClientProfile",e.next=4,fetch("http://localhost:5001/api/ClientProfile",{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(t=e.sent).status){e.next=7;break}throw t;case 7:return e.next=9,t.json();case 9:(a=e.sent).length&&f(a.map((function(e){return{label:e.clientName,value:e.clientId}}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://localhost:5001/api"+"/Job/GetJobByClientId/".concat(t),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent).length&&x(r.map((function(e){return{label:e.title,value:e.jobId}}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://localhost:5001/api"+"/ClientInvoice/".concat(t),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent).length&&C(r.map((function(e){var t=L.formatDateString(e.firstDay),a=L.formatDateString(e.lastDay);return{label:"".concat(t," - ").concat(a),value:"",JobId:e.jobId,StartDay:L.formatDateParams(e.firstDay),EndDay:L.formatDateParams(e.lastDay)}}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){U(),s(!0)}),[]);var X=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Manage Payroll",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Payrolls"}]}),r.a.createElement(R,{loaded:o},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header"},"Generate a Report"),r.a.createElement("div",{className:"card-body"},u.length>0&&r.a.createElement(O,{errors:u}),r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),function(e){var t=[];return T||t.push("No client has been selected."),J||t.push("No job has been selected."),M||t.push("No billing week has been selected."),!t.length||(d(t),!1)}()){var a=M.JobId,n=M.StartDay,r=M.EndDay;e.history.push("/payroll/".concat(a,"/").concat(n,"/").concat(r))}}},r.a.createElement("label",{htmlFor:"client"},"Select Client"),r.a.createElement(ge.a,{required:!0,name:"client",options:E,onChange:function(e){e&&(P(e.value),W(e.value))},className:"mb-3"}),r.a.createElement("label",{htmlFor:"job"},"Select Job"),r.a.createElement(ge.a,{required:!0,name:"job",options:j,onChange:function(e){e&&(G(e.value),V(e.value))},isDisabled:!T,className:"mb-3"}),r.a.createElement("label",{htmlFor:"job"},"Select Billing Week"),r.a.createElement(ge.a,{required:!0,name:"week",options:S,onChange:function(e){e&&z(e)},isDisabled:!J,className:"mb-3"}),r.a.createElement("button",{className:"btn btn-primary btn-lg mt-3 float-right"},"Generate"))))))));return r.a.createElement(B,{content:a?X:r.a.createElement(me,null)})},Ve=function(e){var t=Object(n.useState)(p.authenticateAdmin()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(!1),l=Object(y.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(),m=Object(y.a)(i,2),u=m[0],d=m[1],h=Object(n.useState)(),E=Object(y.a)(h,2),f=E[0],v=E[1],N=function(){var e=Object(A.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:5001/api/Skills/GetAllSkills",e.next=4,fetch("http://localhost:5001/api/Skills/GetAllSkills",{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(t=e.sent).status){e.next=7;break}throw t;case 7:return e.next=9,t.json();case 9:(a=e.sent)&&a.length&&(n=a.map((function(e){var t=(Math.floor(10*Math.random())+20).toFixed(2),a=(1.2*t).toFixed(2);return{id:e.skillId,name:e.skillName,labourerReceives:"$".concat(t,"/hr"),adminReceives:"$".concat(a,"/hr")}})),d(n),v([{Header:"Name",accessor:"name"},{Header:"Labourer Receives",accessor:"labourerReceives"},{Header:"Admin Receives (20% cut)",accessor:"adminReceives"}])),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:s(!0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a?N():s(!0)}),[]);var j=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Manage Skill Payrates",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Skill Payrates"}]}),r.a.createElement(R,{loaded:o},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex"},r.a.createElement("h4",{className:"card-header-title"},"All Skills"),r.a.createElement("div",{className:"toolbar ml-auto"},r.a.createElement(b.b,{to:"/admin/addskill",className:"btn btn-primary btn-sm"},"Add New Skill"))),r.a.createElement("div",{className:"card-body"},u?r.a.createElement(z,Object.assign({data:u,columns:f,itemsPerPage:10,path:"/admin/skill"},e)):r.a.createElement(U,{message:"No payrates to display."})))))));return r.a.createElement(B,{content:a?j:r.a.createElement(me,null)})},Xe=function(e){var t=e.data,a=Object(n.useState)({name:"",adminReceives:"",labourerReceives:""}),c=Object(y.a)(a,2),l=c[0],o=c[1],s=l.name,i=l.adminReceives,m=l.labourerReceives;return Object(n.useEffect)((function(){t&&(o(t),console.log(t))}),[]),l?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"offset-xl-2 col-xl-8 col-lg-12 col-md-12 col-sm-12 col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header p-4"},r.a.createElement("div",null,r.a.createElement("p",{className:"mb-0"},"Skill Name:"),r.a.createElement("h3",{className:"mb-0"},s))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("p",{className:"mb-0"},"Admin Recieves:"),r.a.createElement("h3",{className:"mb-0"},"$",i,"/hr")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("p",{className:"mb-0"},"Labourer Recieves:"),r.a.createElement("h3",{className:"mb-0"},"$",m,"/hr"))))))):r.a.createElement(U,{message:"Skill does not exist."})},Ye=function(e){var t=Object(n.useState)(p.authenticateAdmin()),a=Object(y.a)(t,1)[0],c=Object(n.useState)(e.match.params.id&&Object(_.isWholeNumber)(e.match.params.id)?e.match.params.id:null),l=Object(y.a)(c,1)[0],o=Object(n.useState)(!1),s=Object(y.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(),d=Object(y.a)(u,2),b=d[0],h=d[1],E=function(){var e=Object(A.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://localhost:5001/api"+"/Skills/GetSkill/".concat(t),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(p.getToken())}});case 4:if(200===(n=e.sent).status){e.next=7;break}throw n;case 7:return e.next=9,n.json();case 9:(r=e.sent)&&r.skillName&&r.adminReceives&&r.labourerReceives&&h({name:r.skillName,adminReceives:r.adminReceives,labourerReceives:r.labourerReceives}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:m(!0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){E(l)}),[]);var f=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Skill Details",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Skills",path:p.authenticateAdmin()?"/admin/payrates":r.a.createElement(me,null)},{name:"Skill Details"}]}),r.a.createElement(R,{loaded:i},b?r.a.createElement(Xe,{data:b}):r.a.createElement(U,{message:"Skill does not exist."}),r.a.createElement("p",null)));return r.a.createElement(B,{content:a?f:r.a.createElement(me,null)})},Ze=function(e){var t=e.history,a=Object(n.useState)(p.authenticateAdmin()),c=Object(y.a)(a,1)[0],l=Object(n.useState)([]),o=Object(y.a)(l,2),s=o[0],i=o[1],m=Object(n.useState)(),u=Object(y.a)(m,2),d=u[0],h=u[1],E=Object(n.useState)(),f=Object(y.a)(E,2),v=f[0],N=f[1],j=Object(n.useState)(),w=Object(y.a)(j,2),k=w[0],S=w[1],C=function(){var e=Object(A.a)(g.a.mark((function e(){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.getToken(),n={SkillName:d,AdminReceives:k,LabourerReceives:v},e.prev=2,e.next=5,fetch("http://localhost:5001/api/Skills/PostSkill",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});case 5:if(201===(r=e.sent).status){e.next=8;break}throw r;case 8:return e.next=10,r.json();case 10:e.sent?t.push("/admin/payrates/"):i(["Failed to create skill. Please try again later."]),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),I=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Add Skill",breadcrumbs:[{name:"Home",path:"/dashboard"},{name:"Skills",path:"/admin/payrates"},{name:"Add Skill"}]}),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"admin-add-skill-form"},r.a.createElement("div",null,s.length>0&&r.a.createElement(O,{errors:s})),r.a.createElement("div",{className:"form-row mb-4"},r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"skillName"},"New Skill Name"),r.a.createElement("span",{className:"text-danger"},"*"),r.a.createElement("input",{required:!0,name:"skillName",type:"text",className:"form-control form-control-lg",placeholder:"Enter new skill name",onChange:function(e){return function(e){h(e.target.value)}(e)}})),r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"labourerRate"},"Labourer Rate ($/Hr)"),r.a.createElement("span",{className:"text-danger"},"*"),r.a.createElement("input",{required:!0,name:"labourerRate",className:"form-control form-control-lg",type:"number",placeholder:"Enter labourer rate",onChange:function(e){return function(e){N(e.target.value);var t=(1.2*Number(e.target.value).toFixed(2)).toFixed(2);S(t)}(e)}})),r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2"},r.a.createElement("label",{htmlFor:"adminRate"},"Admin Rate ($/Hr)"),r.a.createElement("input",{disabled:!0,name:"adminRate",className:"form-control form-control-lg",value:k}))),r.a.createElement("div",{className:"col col-lg-12"},r.a.createElement(b.b,{to:"/admin/payrates",className:"btn btn-space btn-light btn-lg"},"Cancel"),r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=[];d&&x.name(d)||t.push("Invalid skill name."),v&&!isNaN(Number(v))||t.push("Please enter labourer rate in numbers."),t.length?i(t):C()},className:"btn btn-space btn-primary btn-lg"},"Create New Skill"))))));return c?r.a.createElement(B,{content:I}):r.a.createElement(me,null)},_e=function(e){var t=e.component,a=(e.loggedIn,e.path),n=Object(u.a)(e,["component","loggedIn","path"]);return r.a.createElement(d.b,Object.assign({path:a},n,{render:function(e){return p.authenticateUser()?p.validateToken()?r.a.createElement(t,e):(localStorage.clear(),alert("Your session has expired. Please login again."),r.a.createElement(d.a,{to:{pathname:"/login"}})):r.a.createElement(d.a,{to:{pathname:"/login"}})}}))},$e=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/TestHostReact",render:function(e){return r.a.createElement(f,e)}}),r.a.createElement(d.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(w,e)}}),r.a.createElement(d.b,{exact:!0,path:"/register",render:function(e){return r.a.createElement(k,e)}}),r.a.createElement(d.b,{exact:!0,path:"/register/client",render:function(e){return r.a.createElement(xe,e)}}),r.a.createElement(d.b,{exact:!0,path:"/register/labourer",render:function(e){return r.a.createElement(He,e)}}),r.a.createElement(_e,{exact:!0,path:"/dashboard",component:Y}),r.a.createElement(_e,{exact:!0,path:"/incidents",component:Z}),r.a.createElement(_e,{exact:!0,path:"/job/:id",component:ue}),r.a.createElement(_e,{exact:!0,path:"/job/:id/safetymeetings",component:de}),r.a.createElement(_e,{exact:!0,path:"/incident/:id",component:pe}),r.a.createElement(_e,{exact:!0,path:"/profile/edit",component:ye}),r.a.createElement(_e,{exact:!0,path:"/invoice/:id/:startdate/:enddate",component:fe}),r.a.createElement(_e,{exact:!0,path:"/payroll/:id/:startdate/:enddate",component:ve}),r.a.createElement(_e,{exact:!0,path:"/profile/client/:id",component:we}),r.a.createElement(_e,{exact:!0,path:"/addjob",component:Ie}),r.a.createElement(_e,{exact:!0,path:"/editjob/:id",component:De}),r.a.createElement(_e,{exact:!0,path:"/job/:id/attendance/:date",act:!0,component:Pe}),r.a.createElement(_e,{exact:!0,path:"/addincident",component:Le}),r.a.createElement(_e,{exact:!0,path:"/invoices",component:Fe}),r.a.createElement(_e,{exact:!0,path:"/profile/labourer/:id",component:Qe}),r.a.createElement(_e,{exact:!0,path:"/admin/jobs",component:qe}),r.a.createElement(_e,{exact:!0,path:"/admin/clients",component:Me}),r.a.createElement(_e,{exact:!0,path:"/admin/labourers",component:ze}),r.a.createElement(_e,{exact:!0,path:"/admin/incidents",component:Ke}),r.a.createElement(_e,{exact:!0,path:"/admin/invoices",component:Ue}),r.a.createElement(_e,{exact:!0,path:"/admin/payrolls",component:We}),r.a.createElement(_e,{exact:!0,path:"/admin/payrates",component:Ve}),r.a.createElement(_e,{exact:!0,path:"/admin/skill/:id",component:Ye}),r.a.createElement(_e,{exact:!0,path:"/admin/addskill",component:Ze}),r.a.createElement(d.b,{component:S}))))}}]),a}(n.Component);a(104),a(105),a(106),a(107),a(108);l.a.render(r.a.createElement($e,null),document.getElementById("root"))},11:function(e,t){t.email=function(e){return!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},t.phone=function(e){return!!/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im.test(String(e))},t.password=function(e){return!!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(String(e))},t.name=function(e){return!!/^([a-zA-Z]+?)([-\s'][a-zA-Z]+)*?$/.test(String(e))},t.date=function(e){return!!/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(String(e))}},13:function(e,t){t.isWholeNumber=function(e){return!!Number.isInteger(Number(e))}},18:function(e,t){t.difference=function(e,t){if(e.getTime()===t.getTime())return"1 day";var a=Math.round(Math.abs((e-t)/864e5));return"".concat(a," days")},t.convert=function(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}},2:function(e,t){var a=this;t.setSessionData=function(e,t){localStorage.setItem("auth_token",e.token),localStorage.setItem("token_exp",a.setTokenExpiration()),localStorage.setItem("user_role",e.role),localStorage.setItem("user_id",e.id),"Admin"===e.role?localStorage.setItem("user_name","Admin"):localStorage.setItem("user_name",e.name),t.push("/dashboard")},t.authenticateUser=function(e){var t=!(!localStorage.getItem("auth_token")||""===localStorage.getItem("auth_token")||!localStorage.getItem("user_role")||"Admin"!==localStorage.getItem("user_role")&&"Client"!==localStorage.getItem("user_role")&&"Labourer"!==localStorage.getItem("user_role")||!localStorage.getItem("user_name")||!localStorage.getItem("user_id"));return t||localStorage.clear(),t},t.validateToken=function(e){return!(Date.now()>a.getTokenExpirationTime())},t.setTokenExpiration=function(e){return Date.now()+72e5},t.getTokenExpirationTime=function(e){return localStorage.getItem("token_exp")},t.authenticateClient=function(e){return"Client"===localStorage.getItem("user_role")},t.authenticateLabourer=function(e){return"Labourer"===localStorage.getItem("user_role")},t.authenticateAdmin=function(e){return"Admin"===localStorage.getItem("user_role")},t.getToken=function(e){return localStorage.getItem("auth_token")},t.getID=function(e){return localStorage.getItem("user_id")},t.getRole=function(e){return localStorage.getItem("user_role")},t.getName=function(e){return localStorage.getItem("user_name")},t.logout=function(e){localStorage.clear()},t.forceLogout=function(e){localStorage.clear(),window.location.replace("/"),alert("Something went wrong. Please sign in again.")}},23:function(e,t){t.isValidDate=function(e){return null!=e.match(/^\d{4}-\d{2}-\d{2}$/)}},44:function(e,t,a){e.exports=a.p+"static/media/jobsite.52376295.jpg"},47:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gODUK/9sAQwAFAwQEBAMFBAQEBQUFBgcMCAcHBwcPCwsJDBEPEhIRDxERExYcFxMUGhURERghGBodHR8fHxMXIiQiHiQcHh8e/9sAQwEFBQUHBgcOCAgOHhQRFB4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4e/8IAEQgBwgHCAwEiAAIRAQMRAf/EABwAAQACAgMBAAAAAAAAAAAAAAAHCAUGAgMEAf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABlgZAAAAAAAAAAAAAAoAIACggAKAAAAAACAAoAAAICggAAKACAoAIAAAACgAAAgKAACAAoICggKAACAAoICggAAAAAAAAKCAoIAACggKAAACAoIACggKACAoICgAAAAAgAKAAACAAoIAAACgAgKACAAoIAAACggAAAKCAoAIAAACgAAAAAAAAgKAAACAoAAAAAAAAAAIACgAAgAAAAAKAAAAACAAoAICgAgAKAACAAoICggKACAAoAINfNgRliKmRDOSJUaltUcwAoICggKCAoICggKCAAAoAICgAAAAjHcITrL60UAAymLE2bFXSX42wSgAgAKAACAAoAICgAgKAACAoADhz0dNCwxoAAAA7ukT3k4klvIFBAAAAAAUAEABQQAFAAAAAAQpNdeLOgUAAAAB22ErtOUZwSgAAAgKACAoIAAACggAKACAoHGudjq92eUUAAAAAmqFZ1jMiUEAAABQAAQFBAUAEBQAAAAAENzJqaQ6NAAAAAPVYKMpPgJQAAQFAAAAABAUEBQAAQFAAABIZ1ewkL1gxQAAD3cJnjJeolAAABAUEBQAQFBAUAAAEBQQAAAx8Tkwc4ElqtV0WxXkK+JbxBHaQsiRZtcn5Qx3tx8SE2c4Flg2IQCggAAKCAAoICgAAAAAAAAjW+qHq7vKUBs+7xCiwPtrj2lieiv8A0E0abpI58CnLiJP3+uMjRJAgAAFBAAAAAAUAEAABQQBhMvBdY/pKAAAAAAAAAlbeK6zpGWEAAAAAAAAAoICggKCADrWP419fk1AAAAAAAAAAGz6wLHMHnMgUAEBQAQFAAAAAAAAajt0WWaIKAAAAAAAAAAA36UIJnaAgAAFBAAAUAEBQAAAEKzVBlmEFAAAAAAAAAAAc7FVysNHoEAAAAAAoICgAgKCAoIiGXhAvCfVQBwsEK9/LCivHGxIrt8sUK6/LFiun2xQrr9sSK7fbECvPKwgr7ysAIC5T2IInPsQAAAAACggAAAAAAKACAAAAAAAAAAAAAoIAAAAAAACggKCAoAAAAAAAAAAIACgAAgAKCAoAICggKACAoAAAAAAAAAAAICggKAAACAoIAAAACgAgAKAACAAAAAAAAAAAAAAAAAAAAoIAACgAAAAgKCAAAoIAAAAAAAAAAAACggAKCAAoAAICgAgAKCAoICgAAgKCAAAoAAICggKACAoAAAAAAAAIACggKAACAoAAAIACgAgKCAoAAAAAAICgAgKA+h8ACAAAoICggAAAAH//xAAoEAABAwMEAgEFAQEAAAAAAAAEAgMFAAEGEhNAUBQwEBEVIDWQMjT/2gAIAQEAAQUC/rgbMAi0Rkzl6VkElerT8namclKtQc+C9SVJWnsDzGAmZOZKM/MA8oJcRLMH266TNaAGNKeMf9CFKQuAlbGo6xakoRLnKPM9TDq2XYwtJofV5cXtCezEy9k7q8kf3pf2NLU060uzjXVPr3H/AGwC9cR1Kv8APuxn9L1RaNov2wje3E9VlI+zK+wVm5BKbWSnqsnD8mP9mIB6nusyGOuEV6gBXDCRGGxh+sKYaJYlo16Pd9Ag7xT0RHNx7HWsvMvU82283KY8tF3ELbX+MbBlFXACHCacWhtDa0uI6o4wcJqVmSTaCLfDeipkY21EjMEpfxwJdKxhVWxhymcaGTQkeGL8SB4wSJaUfkFx55IK4mWHPt1EzLNAIKIeJe+QJs0WhchBdpksV75ceZasTORzNHZES7S1qcX8JvdKoKc3OnnpVILbi1OL/NLjiau89f047MdLMHoAFecW87w8ZlPIR0Tq0tNypqzjOI0tbTkSak4PocvN+ieNjZviH9A6tLbZj6iSuPBFeXG8/KyNmM5GHEaSOfmTv1M5EK7syvPyVWqZ5CL6Vpv9bc6d/b8kb/n503HmLlPtx9eAdXhGV4hVeMTWw/Wy9W07W25WhdaF1oVWhVaF1oXW2utt2tl2th+vHIrxSq8MyvBOr7cfX2yQvTdtLf8AZ/8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPwFSf//EABcRAAMBAAAAAAAAAAAAAAAAAAERgGD/2gAIAQIBAT8BsFbowd//xAA8EAACAQECCAsHBAIDAAAAAAABAgMAETEEEiEiQVBRkRMjMDIzNEBSYXGSEEJigZOxwSBygpAUodHh8f/aAAgBAQAGPwL+3DFaXHfuplriMGUeLm2sjovkldKp/gK42CJx4ZKskxoG+K7fQZWDA6RrHhJ2s2DSaKg8FD3V0+f67YJMmlTcaxejm0ofxq8yyZT7q7TRmma0/bkQ6EqwuIrgZsmEKPVq0uxsUC0mjJ7gyINg5NZY2xXU2g0k633MNh1YuDKc6W/y5U4OxzJvvqyXYmYOVSRb1NopZFuYWjVckneYnlsHPw2btVHl4P5ffVcsfdcjlsGX4Ld+q2f3ZRjcrHCt7tZQUXDJqvhEFrw53y08q+GOMiZqeercdBxEnN8PDk1giGU3nYKSCMZqjVrQzLjK1WNnRHmvyIhhTGY1ijOkbntt1c3BSK+KbDYbqMcqB1N4NGTAjjr3DeKKSKVYaCP1BpRwEW1rz8q4OBLNp0mi8jBVF5NB0YMpuI1Xwk72bBpNFF4qHujT51wsD2HTsNBG4qbunT5ezFniSQeIq2NpIvnaKzMMHzj/AO6y4WvorjZ5H8slcTAoPevPsxpny6FF5qw5kQuQVjQvk0qbjWL0c3cP41TirY85uXZ50ZZ3LMf0BS3DJsf/AJrjceE+ItFcVhET+Te22SVE/c1lZJeFOxBRXB0EK7b2ou7FmN5PtDKSCLiKXB8NNj+7Jt89T8HHY2ENd8PjRd2LMbyeQzZGHkayyuf5ciuB4W3hG5+x1Lj3yNkRdtNLI2M7G0nsn+JO3GqM094ajaRzYqi0mmmbItyDYOyrJGcVlNoNLMMjXONh1EuAob86T8Ds4RjxUua34OoWkc2KotNSTve5t7RHITa4zW89QcGDllbF+XaZcGJyOMYeY1BDD3Et3/8AnacHf47N+TUE3hYP9dpDbDbQPb8J/f2qP9o7fPJFg0joxtBArqc/oNdTwj6Zrqk/0zXVpvQa6vL6DXQyemuif010bbq5jbq5jbq5rbq5p3VzTurmturmNurmNuro23V0T+muhk9NdBL6DXVpvQa6rP8ATNdTwj6Zrqc/0zXU5vTSrsH90H//xAArEAEAAAMGBQMFAQAAAAAAAAABABEhMUFQUWFxMECRofCBscEQINHh8ZD/2gAIAQEAAT8h/wBcH2QtV+CFkPuT2EoZno4fMMV38DpvKv5hUZHlJ8xWBUJMcRXSq7tcghldr6u5f989QnvXpRcWlRbrmw+uUUK2Kca7C45HBVCM0SRiewqWnM1zw0xTSLghpqebL3hp+kQiXyLY1phiyGWe3+X2eKlBCmhs+TphiVs5foW958Vy5H3hiz0+0k8LZRr114yP2nfJ8YVdMobeNPU8T4W6dO1vGRmjL73zhaAFCd7H278WyuG3WDJkEhphbNWISvuPn04r95IVr6HvhjUkwofMms9/4cPoeEvliSyljXXDTaCrpqRKIppFHRyeCrrogzciKVarNZGmHao+aaBOXIExi9hM/oN8WqHJJPttZFYWJkHS/KJBE1vVdWDevNEggIeTTMcLlkT2dV0IQStf13L9oIsu1zkkMAZ3Tcv+mRSLY2bobV2R7iveJ6rNiDmnNG/MPDp5D8xL0/eO6/SS3OXr0ot46bqbubE2udv3pQBDQq9u6/CaSkt6aoXiVm7QyPsMGHeNrUGB5cTIA9AFen1lhWYe6DUUc13sgVbeS4itDxM1+qwWmiSMCxbBKGnVrg81YFFwzQn45omrwO7Gkd55Q1ZtvAedBtLw0wV05bxM9iHhTAX8ogTVd+EzAxruIuCJyHKhlAyRXMSO8CCrWOWRl4PTl6IUnIHw64DMeG2QVi2yuwuOnMezEd+ST64BMZA3uPmvM3TBep2e2AS4aJ61zKv0hD2/ZgGnJfo5lSrSESNvJ8+5+azmlN3yOfPjFOjQhOOQt8vSEbfF0hG3ztIQthJVvXw/sUf0cf08f3H3Ec4kP66P7OD9ogSzqYHsiBrF8soGs83SBrPD0gWMPnbjTJO3+0H/2gAMAwEAAgADAAAAEP8A/wD/AP8A/wD/AP8A/wD/AP8A/wC+/wD/AL//AO++++++P/8Avvvv/v8A/wD++/8Avv8A/wD/AP8A7777/wC++/8A/v8A7/777/8A+/8Av/8A/wD/AP8A/wD/APv/AL//AP8Av/vvvv8A7/8A+/8Avv8A7/777777/wD++++//wDv/wD/AP8Avv8A77//AO//AP8A/wC//wD/AP7/AO+//wD/AP777777777/AO+++/8Avvvvvvvvvvs//vvv/wD/AP8A/wD777777/8A++/++/8A/vvv/wD7/wC/++//APvv+9ed/wD7/wC/+/8Av/v/AL//AP8Avv8A77777/GAAABH77//AO++/wD/AL7/AO+/+++/+++/QAgAAA/+9/8A/wD/AP8Avv8A/wC//wDvvvvvvoQAAAAAE/vvvv8A77/7/wB//wDv/wD77/75kQgAAAAf7/8A/wD/AL77/wC/++/+++++++7AAAAIAd+++/8Avvvvvv8A7/777/777684AAABb7777/7/AO+/+/8Avvvv/v8A/wD/AN4fRhtYXf8A7/8A/wDv/wD7/wC++++++++/hgQiltSgAT//AP8A7/8A/wD/AP8A++//AP8A7/8AxAAAAAAAAAA5/wD/AP8A/wD/AP8A/wDv/v8A7/8A6oAAAAAAAAAAQ3++/wDvv/vvvvvvvvvQAAAAAAAAAAAHf/8A/wC//wD/AL7/AO++++pAAAAAAAAAAAAF/wD/AP8A/wD/AL377/7/AO//APXbXXXbTfbXXX//AP8A/wD/AL/33/8A/wD/AL7/AP8A/wD/AP8A/wD/AP8A/wD/AO9//wDff/8A37/7/wC++++++++++/8A/vvv/wD737z/AO9++/8Avvvvvvvvvvvv/P8A77z7/wC99/8A/fvv/wD777//AP8A/f8A3/8A9/8Affffff8A3373/wD+++++/wDv/wD/AO//AP8A/wD/AP8A/wD/AP8A/wD+/wDfv/8A777/AO+//wDv/v8A777/AO//AP8A777/AO/++/8Avvvvvvvvv/8A7/777/7777//AO+9+/8AvvvvvvvXvv4vovvf/wD7/wC99j//APf/xAAdEQADAAEFAQAAAAAAAAAAAAAAARFAECAwUHBg/9oACAEDAQE/EPWKX5N71jPes1drNITLpeiXXPlWA+VYMIQhCEIQhCe5f//EABwRAAMBAQADAQAAAAAAAAAAAAABEUAgEDBwMf/aAAgBAgEBPxD6xCakuWtzzLt5l28y7edPlvOkSFKUpKNZUvMJ4Ty1jS9bWJbF++14FtJwpSlKUpSlKUbv3H//xAAtEAEAAQIDBgUEAwEAAAAAAAABEQAxIUFRQGFxgZGhECAwULFgwdHwcOHxgP/aAAgBAQABPxD3iNp6fT07Hj/Hef8Aw2/TGftR44/SUmtBZwqQTosyblms0syHsOrTYM5qHc0TRMyO9AoUOXU/NR2rB/phmfQOIKOsUPBqJgm0zsPPznXaQM9YuNjNKn7ACQOrwYG7Oo8sUAQZT9dOR3kO+heCSlIl0ybrnf29QpU1ELANAuuRvgXjpg8MqeQd7suPolJC8CsiWaxmcIgByshkOJhgehPsiPxMgBKvAKeVy2wt45j0yPTDsDJE+RsmZQRCwmfhGZuT2xHyELiOKdDkHqx5IhXAarmcR3Njx8uWyQJhLm0fu+rdIvtAJ3KQ6eBgHZ2fLY1AVsEtTMkC6o/f1UpXZlHgPYbLy2UKd046UEQ3n1gNYo4bLz6T6h7yhOKfb1XAmiRkQb5ewx6UD1VywQ8ZlyeqVTi4LFx4Al5VDu/RAgOntGHi4FYRi58Af2eqgQJmLLC4kf12bDZgIAiQiYNTZ3IYPiukX1HB9OeoksYDojuwZ1APqa6zWqsrvfbYVJBZWSZI4jT1TbY9hMs7nouSzLDNJka1PoAhwh0DjBzfbWAlcK0Wx+dhj9vpWGCMYfnflSbsZRd02B3MPGmi9DnHDj5QQBSwAYrTb9C4U63OBxtQ4bBwaZ5nCxkVF0l4Oq1BOMU+omDs0bK5OBsEyzuNjNKwftCY+rwINzegfIhceoR8XIaRfQHEu87HHjfwGDBEF7hyNPS9hFyLQdOQhl1FRXXUx3NKEy6d8ujSFn75RJy8E4kjpzo3sG+pAuLo3F/oMioQhGXxeR3kO+hzHmmF3I9zMz9palJ7BbRYhoXd16d49zA5BYNDxMGSsHl46lpYc5DSgGXeSfdO9QokzmSnGUnOhEkZ8GgXcF3FWQTJLzx3VhUmkzG5ToC76aAcldqri+JoBMALIlmky+I5WWQaLHOG/s2J0N8UZPwZ8LvXXPCur54KEgLT4BoSAtG/LSURcyuNHmSaPM1GIhsN2XJy9lL+aQ5N3UeRmUr/AEvin4MoseueW68C4nkuZdTHJfY7dpbAStJMVktmxxbu94bHl4CVteAZGiEDhG0EnBkTcmw9dhgFApa8Tikjdq2dJpEpu+wsLovYM6PgpeQU9ClMcGTOVwABy2ffSR45ZxjCXf7ABLFAuMPxhQ2hsNixskQ4+wBpsam8nwOu0tiIfzXaW1vlc6qO4RP3XaXPhg0RkobIIcyduypFOTOg2ltTXYu9Pr9dgk0UDSaE3yU3jy2+1PYChZFxqNYPidLIuP4KbYcfw0K5cfw0jc/00qK4fppX7N9q/wBrX+qr/VV/tK0ep/FC2/S3UNZ/00pNl4fgq6Ph+GlsXw/BXYkpXZcKl0VADDpv2pgAJ0XyVhZHaweyy1LrWOr5INKw0oNMPDnXNrm1Lq1P8AZese5dPeY2TPxfLn7ty+mY2HD6h67Ll7J0/lXLYHwafA8jbyHieZo8Wm/jn58/BoprPyZ+do8f/9k="},49:function(e,t){t.getBadgeColor=function(e){var t="primary";return"Complete"===e?t="success":"In Progress"===e?t="warning":"Required"===e&&(t="danger"),t}},55:function(e,t,a){e.exports=a(109)},6:function(e,t){var a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];t.formatDateString=function(e){if(e.match(/^\d{4}-\d{2}-\d{2}$/)){var t=new Date(e);return t.setDate(t.getDate()+1),"".concat(a[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear()," (").concat(n[t.getDay()-1],")")}var r=new Date(e);return"".concat(a[r.getMonth()]," ").concat(r.getDate(),", ").concat(r.getFullYear())},t.phone=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e},t.formatDateParams=function(e){var t=new Date(e),a=function(e){return e<10?"0"+e:""+e};return"".concat(t.getFullYear(),"-").concat(a(t.getMonth()+1),"-").concat(a(t.getDate()))}}},[[55,1,2]]]);
//# sourceMappingURL=main.a69ef886.chunk.js.map